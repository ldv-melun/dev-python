<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.16">
<meta name="description" content="support avec exercices">
<meta name="author" content="Lycée Léonard de Vinci - Melun">
<title>Support de cours Python</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;-webkit-tap-highlight-color:transparent}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos{border-right:1px solid;opacity:.35;padding-right:.5em}
pre.pygments .lineno{border-right:1px solid;opacity:.35;display:inline-block;margin-right:.75em}
pre.pygments .lineno::before{content:"";margin-right:-.125em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd),table.stripes-even tr:nth-of-type(even),table.stripes-hover tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.3/styles/github.min.css">
</head>
<body class="article toc2 toc-left">
<div id="header">
<h1>Support de cours Python</h1>
<div class="details">
<span id="author" class="author">Lycée Léonard de Vinci - Melun</span><br>
<span id="revnumber">version 0.1a,</span>
<span id="revdate">2023-07-16 - Version asciidoc</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table des matières</div>
<ul class="sectlevel1">
<li><a href="#_présentation">Présentation</a></li>
<li><a href="#_python_1_intro">Python-1 intro</a>
<ul class="sectlevel2">
<li><a href="#_python">Python</a></li>
<li><a href="#_vérification_de_votre_système">Vérification de votre système</a></li>
<li><a href="#_python_en_mode_interactif">Python en mode interactif</a></li>
<li><a href="#_python_en_mode_script">Python en mode script</a></li>
<li><a href="#_documentation">Documentation</a></li>
<li><a href="#_exercices_en_mode_interactif">Exercices en mode interactif</a></li>
<li><a href="#_quel_éditeur_de_code_utiliser">Quel éditeur de code utiliser ?</a></li>
<li><a href="#_exercices_en_mode_script">Exercices en mode script</a></li>
<li><a href="#_contrôler_vos_connaissances_et_contribuer_aux_qcms">Contrôler vos connaissances et contribuer aux QCMs</a></li>
</ul>
</li>
<li><a href="#_python_2_intro_type">Python-2 intro - type</a>
<ul class="sectlevel2">
<li><a href="#_méta_modèle_ipo">Méta-modèle IPO</a></li>
<li><a href="#_déterminisme">Déterminisme</a></li>
<li><a href="#_type_et_opérations">Type et opérations</a></li>
<li><a href="#_types_numériques">Types numériques</a></li>
<li><a href="#_chaine_de_caractères">Chaine de caractères</a></li>
<li><a href="#_travaux_pratiques">Travaux pratiques</a></li>
<li><a href="#_type_booléen">Type booléen</a></li>
<li><a href="#_travaux_pratiques_2">Travaux pratiques</a></li>
<li><a href="#_type_chaîne_de_caractères_string">Type chaîne de caractères (string)</a></li>
<li><a href="#_travaux_pratique">Travaux pratique</a></li>
<li><a href="#_contrôler_vos_connaissances_et_contribuer_aux_qcms_2">Contrôler vos connaissances et contribuer aux QCMs</a></li>
</ul>
</li>
<li><a href="#_python_3_déboguer">Python-3 Déboguer</a>
<ul class="sectlevel2">
<li><a href="#_quest_ce_que_le_débogage">Qu&#8217;est-ce que le débogage ?</a></li>
<li><a href="#_pourquoi_le_débogage_est_il_important">Pourquoi le débogage est-il important ?</a></li>
<li><a href="#_méthodes_de_débogage">Méthodes de débogage</a></li>
<li><a href="#_les_assertions_pour_se_prémunir_de_certains_bugs">Les assertions pour se prémunir de certains bugs</a></li>
<li><a href="#_contrôler_vos_connaissances_et_contribuer_aux_qcms_3">Contrôler vos connaissances et contribuer aux QCMs</a></li>
</ul>
</li>
<li><a href="#_python_4_collections">Python-4 Collections</a>
<ul class="sectlevel2">
<li><a href="#_mise_en_condition">Mise en condition</a></li>
<li><a href="#_structure_de_données_de_type_collection">Structure de données de type Collection</a></li>
<li><a href="#_opérations_courantes_sur_les_structures_séquentielles">Opérations courantes sur les structures séquentielles</a></li>
<li><a href="#_déclaration_de_variables_collection">Déclaration de variables Collection</a></li>
<li><a href="#_choisir_la_bonne_structure_de_données">Choisir la bonne structure de données</a></li>
<li><a href="#_itérer_sur_tous_les_éléments_dune_collection">Itérer sur tous les éléments d&#8217;une collection</a></li>
<li><a href="#_contrôler_vos_connaissances_et_contribuer_aux_qcms_4">Contrôler vos connaissances et contribuer aux QCMs</a></li>
</ul>
</li>
<li><a href="#_glossaire">Glossaire</a></li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_présentation">Présentation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Ce support vise à introduire des concepts de base en programmation, avec une forte invitation à la pratique et aux bonnes pratiques.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_python_1_intro">Python-1 intro</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_python">Python</h3>
<div class="paragraph">
<p>Python est un langage inventé par le programmeur Guido van Rossum dans les années 90. C&#8217;est un projet open source et multi-plateformes.</p>
</div>
<div class="paragraph">
<p>Python est un langage interprété, contrairement à d&#8217;autres, comme le C qui nécessite une phase de compilation qui produit une version exécutable pour une plateforme cible, le code source d&#8217;un programme Python est directement portable (l&#8217;analyse et sa traduction en langage machine se fait au cours de son lancement par un interpréteur Python lié à l&#8217;OS hôte).</p>
</div>
</div>
<div class="sect2">
<h3 id="_vérification_de_votre_système">Vérification de votre système</h3>
<div class="paragraph">
<p>Ouvrir une <strong>console système</strong> (un terminal), et lancer la commande : <code>python3 --version</code> (ou <code>python --version</code>)</p>
</div>
<div class="paragraph">
<p>Exemple de résultat attendu (vérifier que vous êtes en 3.x.x) :</p>
</div>
<div class="listingblock">
<div class="title">Listing 1. Exemple ($ est le prompt, à ne pas recopier)</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ python3 --version
Python 3.10.6</code></pre>
</div>
</div>
<div class="paragraph">
<p>Python peut être lancé en mode interactif ou en mode script.</p>
</div>
</div>
<div class="sect2">
<h3 id="_python_en_mode_interactif">Python en mode interactif</h3>
<div class="paragraph">
<p>Il suffit de lancer la commande <code>python3</code>, dans ce cas l&#8217;interpréteur attend la saisie de code, qu&#8217;il interprétera à partir du moment où il reçoit une donnée de fin de saisie (touche <code>Enter</code>)</p>
</div>
<div class="paragraph">
<p>Pour sortir de ce mode, lancer la commande <code>CTRL + D</code> (ou <code>CTRL + Z</code> sous windows).</p>
</div>
<div class="listingblock">
<div class="title">Listing 2. Tester ce code</div>
<div class="content">
<pre>$ python3
&gt;&gt;&gt; print('Hello World')
Hello World
&gt;&gt;&gt;</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_python_en_mode_script">Python en mode script</h3>
<div class="paragraph">
<p>Dans ce mode (usage courant) le code source est placé dans un fichier text, avec <code>.py</code> comme extension.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Tester cette procédure</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>créer un fichier texte nommé <code>tp1.py</code></p>
</li>
<li>
<p>inscrire l&#8217;instruction <code>print('Hello World')</code> comme seule ligne de ce fichier</p>
</li>
<li>
<p>sauvegarder le fichier <code>tp1.py</code></p>
</li>
<li>
<p>dans un terminal, lancer la commande : <code>python3 tp1.py</code>.</p>
<div class="paragraph">
<p>Vous devriez voir afficher <code>Hello World</code></p>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Cette procédure peut être automatisée (la première instruction est équivalente aux étapes 1 à 3 de la procédure présentée). L&#8217;opérateur système <code>'&gt;'</code> dirige temporairement le flux standard vers un fichier.</p>
</div>
<div class="exampleblock">
<div class="content">
<div class="paragraph">
<p><code>echo "print('Hello World')" &gt; tp1.py | python3 tp1.py</code></p>
</div>
</div>
</div>
<div class="paragraph">
<p>L&#8217;opérateur système <code>'&gt;&gt;'</code> dirige le flux standard en fin du fichier cible (ajout).</p>
</div>
<div class="paragraph">
<p>&#8658; La redirection du flux standard vers un fichier est une technique bien connue des hackers.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_documentation">Documentation</h3>
<div class="ulist">
<ul>
<li>
<p>Préférer le site officiel <a href="https://docs.python.org/fr/3/">docs.python.org</a> et <a href="https://stackoverflow.com/questions/tagged/python">stackoverflow dédié à python</a>.</p>
</li>
<li>
<p>L&#8217;usage des commandes de l&#8217;interpréteur Python <code>help()</code> et <code>dir()</code>.</p>
<div class="ulist">
<ul>
<li>
<p>la fonction help() extrait des chaînes de documentation (modules, fonctions et méthodes). Exemples :</p>
<div class="ulist">
<ul>
<li>
<p><code>help(print)</code></p>
</li>
<li>
<p><code>help(sys.exit)</code> (le module <code>sys</code> doit être importé avant cette commande)</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect2">
<h3 id="_exercices_en_mode_interactif">Exercices en mode interactif</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Lancez l&#8217;interpréteur dans un terminal</p>
</li>
<li>
<p>Tester une à une les expressions suivantes et essayez d&#8217;expliquer ce qui se passe dans chacun des cas. N&#8217;hésitez pas à échanger entre vous et à chercher des explications en ligne. Le langage python est utilisé par une grande communauté internationale. Voir le tableau de correspondances opérateur-fonction : <a href="https://docs.python.org/fr/3/library/operator.html#mapping-operators-to-functions" class="bare">https://docs.python.org/fr/3/library/operator.html#mapping-operators-to-functions</a></p>
</li>
</ol>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Code</th>
<th class="tableblock halign-left valign-top">Résultat</th>
<th class="tableblock halign-left valign-top">Explications</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>2 * 11 + 3 + 4 * 5 - 4 + 1</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>42</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">La priorité des opérateurs arithmétiques suit les conventions usuelles. (voir <a href="https://docs.python.org/fr/3/reference/expressions.html#operator-summary">priiorité des opérateurs</a>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>2 ** 16</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>pow(2, 16)</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>2/5, 2/5.0</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>int(2/5)</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>round(2/5)</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>import math</code>
<code>math.ceil(2/5)</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>4%2</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>12%7</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>2e3</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>int(2e3)</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>2e10</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>2e-3</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>int(2e-3)</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>float(40+2)</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"année" + "2023"</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Concaténation de 2 chaînes de caractères</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>s=samedi</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>s="samedi"</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>s * 4</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>s[0], s[1]</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>s[6]</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>'spam'[0]</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"spam"[1]</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"spam"[0:2]</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"spam"[1:]</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>('pizza' + s[0]) * 3</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Pour aller plus loin, voir : <a href="https://docs.python.org/fr/3/library/stdtypes.html#typesseq" class="bare">https://docs.python.org/fr/3/library/stdtypes.html#typesseq</a></p>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect2">
<h3 id="_quel_éditeur_de_code_utiliser">Quel éditeur de code utiliser ?</h3>
<div class="paragraph">
<p>Vous trouverez ici <a href="https://docs.python.org/3/using/editors.html" class="bare">https://docs.python.org/3/using/editors.html</a> un inventaire de nombreux éditeurs.</p>
</div>
<div class="paragraph">
<p>Voici une sélection :</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>vi</code> : l&#8217;éditeur incontournable, présent dans toutes les distributions linux. Il vous sauvera de situation délicate (intervention à distance sur un serveur)</p>
</li>
<li>
<p><code>Visual Studio Code</code> et son <a href="https://code.visualstudio.com/docs/python/python-tutorial">plugin python</a> : léger mais suffisament complet pour démarrer avec python (complétion, vérification de cohérence de type, débogueur intégré&#8230;&#8203;), également utilisé pour le dev frontend.</p>
</li>
<li>
<p><a href="https://www.jetbrains.com/pycharm/">pyCharm</a>, l&#8217;IDE à destination des professionnels (gain de productivité assuré)</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="vscode-python.png" alt="vscode">
</div>
<div class="title">Figure 1. Visual Studio Code avec le plugin Python, ouvert sur le dossier TPS</div>
</div>
</div>
<div class="sect2">
<h3 id="_exercices_en_mode_script">Exercices en mode script</h3>
<div class="paragraph">
<p>Un script python, appelé aussi "module", peut être utilisé directement, comme dans l&#8217;exemple <code>python3 tp1.py</code> ou intégré dans un autre module (via l&#8217;instruction <code>import</code>).</p>
</div>
<div class="paragraph">
<p>Python vient avec de nombreux modules préinstallés. Vous pouvez en consulter la liste avec : <code>pip3 list -V</code>. Pour en utiliser d&#8217;autres, il faut préalablement les télécharger. Voir ici pour en savoir plus sur la gestion des modules : <a href="https://docs.python.org/fr/dev/installing/index.html" class="bare">https://docs.python.org/fr/dev/installing/index.html</a></p>
</div>
<div class="paragraph">
<p>Dans un premier temps, placez-vous dans un dossier de votre espace personnel dédié aux exercices en python.</p>
</div>
<div class="sect3">
<h4 id="_exercice_2">EXERCICE 2</h4>
<div class="paragraph">
<p>Voici un code source d&#8217;un programme python respectant les conventions d&#8217;usage :</p>
</div>
<div class="listingblock">
<div class="title">Listing 3. fichier tp1.py</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-python hljs" data-lang="python">#!/usr/bin/env python3 <i class="conum" data-value="1"></i><b>(1)</b>
def exo2() -&gt; None : <i class="conum" data-value="2"></i><b>(2)</b>
  """
   exercice 2 du TP1
  """
  nom = input("Entrez votre nom : ")
  print("Bienvenue " + nom + " !")


if __name__ == "__main__": <i class="conum" data-value="3"></i><b>(3)</b>
  import sys <i class="conum" data-value="4"></i><b>(4)</b>
  exo2() <i class="conum" data-value="5"></i><b>(5)</b>
  sys.exit(0) <i class="conum" data-value="6"></i><b>(6)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>(optionnel) Shebang. Permet de rendre le script "directement" exécutable. voir <a href="https://stackoverflow.com/questions/6908143/should-i-put-shebang-in-python-scripts-and-what-form-should-it-take" class="bare">https://stackoverflow.com/questions/6908143/should-i-put-shebang-in-python-scripts-and-what-form-should-it-take</a></td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Définition d&#8217;une fonction nommée <code>exo2</code>, qui déclare ne "rien" retourner (<code>None</code>), avec sa chaîne de documentation</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Si le script est utilisé directement (en argument de l&#8217;interpréteur python), alors la valeur de la variable <code><em>__main__</em></code> est "<em>__main__</em>", sinon il est utilisé en import dans un autre script et c&#8217;est le nom du script (module), sans son extension. Remarque : les noms de variables encadrés de 2 underscores (<code>__</code>) sont des variables système (pré)définies par l&#8217;interpréteur.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Importation du module <code>sys</code> (qui contient des fonctions système, dont <code>exit</code> utilisée plus loin)</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Appel de la fonction <code>exo2</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>Appel la fonction <code>exit</code> afin de demander la sortie du mode interpréteur de python avec transmission du code de retour. Voir <a href="https://docs.python.org/fr/3/library/sys.html#sys.exit" class="bare">https://docs.python.org/fr/3/library/sys.html#sys.exit</a>, ou, en mode interactif, appeler l&#8217;aide sur cette fonction via la commande <code>help(sys.exit)</code>. <strong>Retourner zéro signifie que le programme se termine avec succès, toute autre valeur signale à l&#8217;appelant une anomalie à l&#8217;exécution</strong>.</td>
</tr>
</table>
</div>
<div class="olist arabic">
<div class="title"><strong>Travail à faire</strong></div>
<ol class="arabic">
<li>
<p>Si ce n&#8217;est pas déjà fait, créer un dossier <code>dev</code></p>
</li>
<li>
<p>Créer un sous-dossier <code>dev/TPS</code> et <strong>ouvrir ce dossier</strong> avec l&#8217;éditeur visual studio code</p>
</li>
<li>
<p>Créer le fichier <code>tp1.py</code></p>
</li>
<li>
<p>Recopiez le code ci-dessus</p>
</li>
<li>
<p>(optionnel) Rendez-le exécutable (par exemple avec la commande <code>chmod +x tp1.py</code>)</p>
</li>
<li>
<p>Exécutez-le (dans un terminal), éventuellement corrigez les erreurs de frappe.</p>
</li>
<li>
<p>Modifiez la fonction <code>exo2()</code>, afin qu&#8217;elle affiche le prénom et le nom. Elle devra pour cela inviter l&#8217;utilisateur à entrer son prénom.</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_exercice_3">EXERCICE 3</h4>
<div class="paragraph">
<p>On vous présente un programme exprimé en pseudo-langage
et une traduction en Python. Après avoir pris connaissance
de la version en pseudo-langage, recopier la traduction
proposée en Python (code source ci-dessous) comme nouvelle fonction dans le script <code>tp1.py</code>.</p>
</div>
<div class="listingblock">
<div class="title">Listing 4. Version pseudo-langage</div>
<div class="content">
<pre>Afficher("Entrez un nombre entier svp :")

lire un nombre au clavier et placer sa valeur
dans une variable nomméee x <i class="conum" data-value="1"></i><b>(1)</b>

Si x est pair Alors
  Afficher("Ce nombre est pair")
Sinon
  Afficher("Ce nombre est impair")
FinSi</pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>ou plus simlement : <code>x &lt;-- lire un nombre au clavier</code></td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Listing 5. Version python</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-python hljs" data-lang="python">def exo3() -&gt; None :
  x = int(input("Entrez un nombre entier svp : "))
  if x % 2 == 0 :  # le reste de division par 2 est-il zéro ?
    print("Ce nombre est pair")
  else :
    print("Ce nombre est impair")</code></pre>
</div>
</div>
<div class="olist arabic">
<div class="title"><strong>Travail à faire</strong></div>
<ol class="arabic">
<li>
<p>Intégrer la nouvelle fonction <code>exo3</code> dans le module <code>tp1.py</code></p>
</li>
<li>
<p>Appeler cette fonction dans le <code>main</code> de <code>tp1.py</code>.</p>
</li>
<li>
<p>Tester différentes valeurs afin de vérifier la justesse du code. (Si l&#8217;utilisateur ne saisit pas un nombre, le programme s&#8217;arrête brutalement - c&#8217;est normal, la gestion des cas d&#8217;erreurs sera abordée utlérieurement)</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_exercice_4">EXERCICE 4</h4>
<div class="paragraph">
<p>On souhaite proposer une variante de la fonction <code>exo2</code> de sorte que, si l&#8217;utilisateur ne fournit pas d&#8217;identité, le programme lui attribut d&#8217;office le nom "anonymous".</p>
</div>
<div class="paragraph">
<p>Voici une version en pseudo-code founit par un de vos collègues.</p>
</div>
<div class="listingblock">
<div class="title">Listing 6. Version pseudo-langage</div>
<div class="content">
<pre>Afficher("Entrez votre nom svp :")
nom &lt;-- lire une chaîne de caractère au clavier
Afficher("Entrez votre prenom svp :")
prenom &lt;-- lire une chaîne de caractère au clavier
Si nom est vide Alors
  Afficher("Bonjour anonymus !")
Sinon
  Afficher("Bonjour " + prenom + " " + nom + " !")
FinSi</pre>
</div>
</div>
<div class="olist arabic">
<div class="title"><strong>Travail à faire</strong></div>
<ol class="arabic">
<li>
<p>Étudier la version en pseudo-langage ci-dessus puis proposer une traduction fidèle en Python.</p>
</li>
<li>
<p>Travaillez à partir d&#8217;une copie de la fonction <code>exo2</code> que vous nommerez <code><strong>exo4</strong></code>, puis appelez cette fonction dans le main.</p>
</li>
<li>
<p>Tester votre code</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_exercice_5">EXERCICE 5</h4>
<div class="paragraph">
<p>L&#8217;algorithme proposé par votre collègue dans l&#8217;exercice précédent manque de logique. Avez-vous repéré ce qui cloche ?</p>
</div>
<div class="paragraph">
<p>Si l&#8217;utilisateur ne décline pas son identité à la demande de son nom, alors le programme ne devrait pas lui demander son prénom.</p>
</div>
<div class="paragraph">
<p>Proposez une amélioration de la fonction <code>exo4</code>, que vous nommerez <code>exo5</code>, qui respecte cette nouvelle logique.</p>
</div>
<div class="paragraph">
<p><strong>Ce que vous devez faire :</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Fournir d&#8217;abord une version en pseudo-langage</p>
</li>
<li>
<p>Faire valider votre version par un professeur</p>
</li>
<li>
<p>Traduire votre version en Python (une nouvelle fonction nommée <code>exo5</code>)</p>
</li>
<li>
<p>Tester et mettre au point votre fonction</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_exercice_6">EXERCICE 6</h4>
<div class="paragraph">
<p>Transcrire le programme suivant en une fonction Python (nommée <code>exo6</code>).</p>
</div>
<div class="listingblock">
<div class="title">Listing 7. Version pseudo-langage</div>
<div class="content">
<pre>n &lt;- 60
m &lt;- 7
afficher("Les entiers valent ", m , "et ", n)
afficher("leur somme est ", m+n)
afficher("leur différence est ", m-n)
afficher("leur produit est ", m*n)
afficher("leur quotient est ", m/n)
afficher("le reste de la division entière m/n est ", m modulo n)</pre>
</div>
</div>
<div class="paragraph">
<p>Puis améliorer la fonction <code>exo6</code> de sorte que l&#8217;utilisateur puisse lui-même fournir des valeurs pour les zones mémoire référencées par les identificateurs <code>m</code> et <code>n</code>. Vérifier la justesse des sorties.</p>
</div>
</div>
<div class="sect3">
<h4 id="_exercice_7">EXERCICE 7</h4>
<div class="paragraph">
<p>Cet exercice introduit la notion de type. En effet, toute variable est associée, à un instant <em>t</em>, à un et un seul type. Le type de la variable est déterminé par l&#8217;interpréteur au moment de l&#8217;affectation et peut être consulté à l&#8217;exécution par un appel à la fonction <code><strong>type</strong></code>.</p>
</div>
<div class="listingblock">
<div class="title">Listing 8. Comment connaître le type d&#8217;une variable</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-python hljs" data-lang="python">&gt;&gt;&gt; x = 42
&gt;&gt;&gt; type(x)
&lt;class 'int'&gt;   # &lt;== le type de x est int</code></pre>
</div>
</div>
<div class="paragraph">
<p>Commençons par définir une fonction qui réalise une somme de 2 entiers reçues en argument. Nous appellerons cette fonction <code>somme</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-python hljs" data-lang="python">def somme(arg1: int, arg2: int) -&gt; Int :
  """
    Return la somme des arguments
  """
  # affecte à la var result le résultat de l'opération +
  result = arg1 + arg2
  return result <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>On remarquera que la fonction "n&#8217;affiche" rien. C&#8217;est très important. <strong>Le fait d&#8217;afficher ou non la valeur retournée est de la responsabilité de l&#8217;appelant, pas de l&#8217;appelé</strong> (voir <a href="#Appelant">Glossaire Appelant/Appelé</a>)</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Voici un exemple de programme (une fonction) qui appelle la fonction <code>somme</code> (ligne 25)</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-python hljs" data-lang="python">def exo7() -&gt; None:
  print("Bonjour, je suis un programme écrit en Python.")

  # invite l'utilisateur à entrer un nombre entier
  # l'information est stockée dans une zone mémoire
  # référencée par 'str_n1'
  str_n1 = input("Entrez un nombre entier : ")

  # affiche une information sur le type de l'objet crée
  print("Le type de l'objet crée est ", type(str_n1))

  # n1 est l'image de str_n1 par la fonction int(). Le rôle de int()
  # est de tenter de traduire son argument en une valeur
  # numérique (un entier).
  n1=int(str_n1)

  # affiche une information sur le type de l'objet crée
  print("Le type du nouvel objet crée est ", type(n1))

  # idem
  n2 = input("Entrez un second nombre entier : ")

  # appel à la fonction somme, définie plus haut,
  # en vue de réaliser une addition (normalement pb de type ici)
  res = somme(arg1 = n1, arg2 = n2) <i class="conum" data-value="1"></i><b>(1)</b>

  # affichage du résultat
  print("La somme des deux nombres est : ", res)

  # dernière instruction pour une fin annoncée
  print("bye, je meurs...")


if __name__ == "__main__":
  import sys
  exo7()
  sys.exit(0)</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>On remarquera l&#8217;usage des valeurs <code>n1</code> et <code>n2</code> comme valeurs d&#8217;arguments de la fonction <code>somme</code>. Une autre façon d&#8217;appeler la fonction est de passer les valeurs par position, par exemple :  <code>res = somme(n1, n2)</code>, qui aura même effet.</td>
</tr>
</table>
</div>
<div class="olist arabic">
<div class="title"><strong>Travail à faire</strong></div>
<ol class="arabic">
<li>
<p>Adapter le script <code>tp1.py</code> (ajout de la fonction <code>somme</code> et <code>exo7</code>)</p>
</li>
<li>
<p>Tester et <strong>comprendre pourquoi la fonction <code>exo7</code> bugue</strong></p>
</li>
<li>
<p>Corriger la fonction <code>exo7</code></p>
</li>
<li>
<p>Modifiez la fonction <code>exo7.py</code> afin qu&#8217;elle réalise la somme de 3 nombres.</p>
</li>
<li>
<p>Faire évoluer la fonction <code>exo7.py</code> afin qu&#8217;elle réalise, en plus
de la somme de 3 nombres, le produit de ces 3 nombres. Pour cela vous
devrez créer, juste après la déclaration de <code>somme()</code>, une nouvelle fonction nommée <code>produit()</code>, inspirée de <code>somme()</code>.</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_exercice_8_final">EXERCICE 8 (FINAL)</h4>
<div class="paragraph">
<p>A l&#8217;issue de cette première séance de travaux pratiques, vous avez appris à <strong>programmer des fonctions</strong> simples en Python, à <strong>les appeler</strong> dans la partie <em>main</em> du script/module <code>tp1.py</code>.</p>
</div>
<div class="paragraph">
<p><strong>Votre mission</strong> : Au lancement de <code>tp1.py</code>, permettre à l&#8217;utilisateur de choisir la fonction qu&#8217;il souhaite exécuter parmi les fonctions <code>exo2()</code>, <code>exo3()</code>, &#8230;&#8203;, <code>exo7()</code> du module.</p>
</div>
<div class="olist arabic">
<div class="title"><strong>Travail à faire</strong></div>
<ol class="arabic">
<li>
<p>Ajouter une fonction nommée <code>main</code>. Son rôle sera de répondre à cette demande.</p>
</li>
<li>
<p>Faire en sorte que le code du <em>main</em> de <code>tp1.py</code> appelle cette nouvelle fonction.</p>
</li>
<li>
<p>Tester le tout</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_contrôler_vos_connaissances_et_contribuer_aux_qcms">Contrôler vos connaissances et contribuer aux QCMs</h3>
<div class="olist arabic">
<div class="title"><strong>Travail à faire</strong></div>
<ol class="arabic">
<li>
<p>Contrôler vos connaissances sur <a href="https://quizbe.org/question?id-selected-topic=6">quizbe.org</a>. (choisir <code>PYTHON-LDV</code>, scope <code>p-1-intro</code>)</p>
</li>
<li>
<p>Enrichir la base de données QCM. Pour cela, proposer, pour le thème <code>PYTHON-LDV</code> (scope <code>p-1-intro</code>), 2 questions QCM originales et personnelles, sur des thèmes couverts pas cette séquence d&#8217;exercices. <strong>Il est important d&#8217;associer un feedback à chacune des réponses proposées, qu&#8217;elles soient justes ou fausses</strong>.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_python_2_intro_type">Python-2 intro - type</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Lycée Léonard de Vinci - Melun
v0.1a, 2023-07-16 - Version asciidoc
:description: support avec exercices
:icons: font
:listing-caption: Listing
:toc-title: Table des matières
:toc: left
:toclevels: 4
:source-highlighter: highlight.js
:imagesdir: ../assets/images</p>
</div>
<div class="sect2">
<h3 id="_méta_modèle_ipo">Méta-modèle IPO</h3>
<div class="paragraph">
<p>Nous avons vu que les exercices de programmation ont en commun le fait qu&#8217;ils traitent des informations et produisent un résultat en retour.</p>
</div>
<div class="paragraph">
<p>C&#8217;est en fait le schéma général qui est en action dans l&#8217;ensemble des systèmes.</p>
</div>
<div class="paragraph">
<p>ENTREE &#8594; TRAITEMENT &#8594; RESULTAT</p>
</div>
<div class="paragraph">
<p>Le résultat pouvant être une entrée vers un autre processus analogue.</p>
</div>
<div class="paragraph">
<p>En anglais, ce modèle est connu sous l&#8217;acronyme <strong>IPO</strong> :</p>
</div>
<div class="paragraph">
<p>INPUT &#8594; PROCESS &#8594; OUTPUT</p>
</div>
</div>
<div class="sect2">
<h3 id="_déterminisme">Déterminisme</h3>
<div class="paragraph">
<p>Lorsqu&#8217;il s&#8217;agit de programmation, le <em>process</em> du modèle IPO, c&#8217;est à dire la partie traitement, se doit d&#8217;être <strong>déterministe</strong>.</p>
</div>
<div class="paragraph">
<p>Par déterminisme, il faut comprendre qu&#8217;une fonction doit, pour un même ensemble de données d&#8217;entrée, toujours produire la même sortie.</p>
</div>
<div class="paragraph">
<p>Par exemple, définissons une fonction qui retourne le signe d&#8217;un nombre passé en argument :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-python hljs" data-lang="python">def signe(x: int) -&gt; str: <i class="conum" data-value="1"></i><b>(1)</b>
  """ <i class="conum" data-value="2"></i><b>(2)</b>
   Retourne le signe de son argument.
   soit '+', '-' ou '' (chaine vide) si x==0
  """
  result = '' # pas de signe
  if (x &lt; 0):
    result = '-'
  elif (x &gt; 0): <i class="conum" data-value="3"></i><b>(3)</b>
    result = '+'
  return result</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>On précise ici le type du premier argument (premier paramètre) ainsi que le type de retour de la fonction (string). Cette possibilité a été introduite à partir de la version 3.5 de python. Cette information n&#8217;est pour l&#8217;heure pas exploitée par l&#8217;interpréteur. (voir <a href="https://docs.python.org/3/library/typing.html" class="bare">https://docs.python.org/3/library/typing.html</a>)</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>C&#8217;est une chaîne de documentation ("docstring"). Son but est de présenter le rôle de la fonction. C&#8217;est à destination des développeurs (pas de l&#8217;interpréteur). N&#8217;hésitez pas à mettre des exemples dans cette partie.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td><strong>elif</strong>, une contraction de <code>else if</code>, c&#8217;est un des <a href="https://docs.python.org/fr/3/reference/lexical_analysis.html#keywords">mots clés</a> de python.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>On pourra appeler autant de fois notre fonction <code>signe</code> avec la même valeur de donnée d&#8217;entrée, elle nous retournera toujours le même résultat.</p>
</div>
<div class="paragraph">
<p>Exemple :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-python hljs" data-lang="python">print(signe(42)) # +
print(signe(42)) # +
print(signe(40+2)) # +
print(signe(2+2*20)) # +
...
print(signe(-42)) # -
...
print(signe(0)) #</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Une fonction qui ne dépend que des valeurs de ses arguments pour réaliser son travail, sans impacter le système, est qualifiée de <strong>fonction pure</strong>.</p>
</div>
<div class="paragraph">
<p>Une fonction pure a de nombreux avantages, dont celui de permettre la programmation parallèle.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_type_et_opérations">Type et opérations</h3>
<div class="paragraph">
<p>Nous avons constaté (Exercice 7) que les opérations sont dépendantes du type de la donnée sur laquelle elles travaillent.</p>
</div>
<div class="paragraph">
<p>Il existe des types prédéfinis, dits natifs à l&#8217;interpréteur (<em>Built-in</em>). Ce sont les <strong>numériques</strong>, les <strong>séquences</strong>, les <strong>dictionnaires</strong>, les <strong>classes</strong>, les <strong>instances</strong> et les <strong>exceptions</strong>.</p>
</div>
<div class="paragraph">
<p>Python manipule des objets et certaines opérations sont prises en charge par plusieurs types d&#8217;objets ; en particulier, pratiquement tous les objets peuvent être comparés en égalité, testés en valeur de vérité (valeur booléenne) et convertis en une chaîne de caractères (avec la fonction <code>repr()</code> ou la fonction légèrement différente <code>str()</code>). Cette dernière est implicitement utilisée quand un objet est affiché par la fonction print().</p>
</div>
</div>
<div class="sect2">
<h3 id="_types_numériques">Types numériques</h3>
<div class="paragraph">
<p>Il existe trois types numériques distincts : les <strong>entiers</strong> (<em>integers</em>), les nombres <strong>flottants</strong> (<em>floating point numbers</em>) et les nombres <strong>complexes</strong> (<em>complex numbers</em>). En outre, les <strong>booléens</strong> sont un sous-type des entiers. Les entiers ont une précision illimitée.</p>
</div>
<div class="paragraph">
<p>Exemples d&#8217;opérations courantes (source : <a href="https://docsindex.python.org/fr/3/library/stdtypes.html#numeric-types-int-float-complex">documentation opérations</a>)
<span class="image"><img src="op-type-numerique.png" alt="op et types numériques"></span></p>
</div>
</div>
<div class="sect2">
<h3 id="_chaine_de_caractères">Chaine de caractères</h3>
<div class="paragraph">
<p>Les données textuelles en Python sont manipulées avec des objets <code>str</code> ou <em>strings</em>. Les chaînes sont des <strong>séquences immuables</strong> de points de code Unicode (une suite ordonnée d&#8217;indice dans la table UNICODE).</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Une donnée <strong>immuable</strong> est une donnée qui <strong>ne peut pas être modifiée</strong> une fois créée.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Les chaînes littérales peuvent être écrites de différentes manières :</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>entre quotes : <code>'cela autorise les "guillemets"'</code> ;</p>
</li>
<li>
<p>entre guillemets : <code>"cela autorise les 'simples quotes'"</code> ;</p>
</li>
<li>
<p>entre guillemets triples : <code>'''Trois simples quotes''', """Trois guillemets"""</code>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Les chaînes entre guillemets triples peuvent couvrir plusieurs lignes, <strong>tous les caractères de type 'espace' sont alors inclus dans la chaîne littérale</strong>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_travaux_pratiques">Travaux pratiques</h3>
<div class="paragraph">
<p>En python</p>
</div>
<div class="ulist">
<ul>
<li>
<p>La fonction <strong><code>ord()</code></strong> permet de connaître le code (ou indice) d&#8217;un caractère UNICODE. Une valeur d&#8217;indice dans la table UNICODE allant de 0 à 1114111 (0x10FFFF en base 16)</p>
</li>
<li>
<p>Inversement, la fonction <strong><code>chr()</code></strong> permet de connaître le caractère UNICODE associé à une valeur d&#8217;indice - voir <a href="https://docs.python.org/fr/3/library/functions.html#chr">documentation de la fonction chr</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Exemple d&#8217;utilisation (d&#8217;appels) de ces fonctions :</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ord('A') -&gt;   65</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>chr(65)  -&gt;   'A'</pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>La représentation du glyphe d&#8217;un caractère UNICODE est de la responsabilité du système d&#8217;affichage (dépend de la police et du contexte d&#8217;affichage)</p>
</div>
<div class="paragraph">
<p>Voir plus en détail ici : <a href="https://docs.python.org/fr/3/howto/unicode.html">python et l&#8217;unicode</a></p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Le type caractère n&#8217;existe pas en Python. <strong>Un caractère est une chaîne de un seul caractère</strong>.</p>
</div>
<div class="paragraph">
<p><strong>Challenge</strong> : Proposez une POC (preuve de concept) de cette remarque !</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="_exercice_20">EXERCICE 20</h4>
<div class="olist arabic">
<div class="title"><strong>Dans un script nommé <code>tp2.py</code>, réaliser, dans une fonction nommée <code>exo20</code>, le scénario suivant et l&#8217;appeler dans le <em>main</em> :</strong></div>
<ol class="arabic">
<li>
<p>L&#8217;utilisateur est invité à saisir un caractère.</p>
</li>
<li>
<p>Le programme lui affiche successivement les informations suivantes</p>
<div class="ulist">
<ul>
<li>
<p>Le code du caractère</p>
</li>
<li>
<p>Le caractère précédent</p>
</li>
<li>
<p>Le caractère suivant</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="listingblock">
<div class="title">Listing 9. Exemple d&#8217;exécution</div>
<div class="content">
<pre>Entrez un caractère, svp : A
 # l'utilisateur choisit le caractère  'A'
 # le programme répond
Le code du caractère est : 65
Le caractère précédent  : @
Le caractère suivant : B</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_exercice_21">EXERCICE 21</h4>
<div class="paragraph">
<p>Voici une spécification de la fonction pred()</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">fonction pred() : Caractère -&gt; Caractère
 # reçoit un caractère en argument
 # rend, s'il existe, le caractère précédent dans la table UNICODE
 # Sinon retourne None (une autre solution consiste à déclencher une exception)</code></pre>
</div>
</div>
<div class="olist arabic">
<div class="title"><strong>À faire dans <code>tp2.py</code></strong></div>
<ol class="arabic">
<li>
<p>Traduire la fonction <code>pred</code> en python.</p>
</li>
<li>
<p>Concevoir la fonction <code>succ</code> (caractère suivant) en python.</p>
</li>
<li>
<p>Tester ces 2 fonctions dans une fonction nommée <code>exo21</code> appelées dans le main</p>
</li>
<li>
<p>Réécrire la fonction <code>exo20</code> en <code>exo20bis</code> en conséquence.</p>
</li>
</ol>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>(Pour les plus avancés)</p>
</div>
<div class="paragraph">
<p><strong>Comment déclencher une exception en python ?</strong></p>
</div>
<div class="paragraph">
<p>Dans le corps de la fonction, utiliser le mot clé <strong><code>raise</code></strong> suivi d&#8217;une classe d&#8217;exception et d&#8217;un message. Exemple :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-python hljs" data-lang="python">raise ValueError('A very specific bad thing happened.')</code></pre>
</div>
</div>
<div class="paragraph">
<p>Vous pouvez consulter la discussion ici : <a href="https://stackoverflow.com/questions/2052390/manually-raising-throwing-an-exception-in-python" class="bare">https://stackoverflow.com/questions/2052390/manually-raising-throwing-an-exception-in-python</a></p>
</div>
<div class="paragraph">
<p>Le déclenchement d&#8217;une exception provoque un <strong>arrêt brutal</strong> de l&#8217;interprétation du corps de la fonction dans lequel il est lancé, contrôlable par un gestionnaire <code>try .. catch</code></p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_exercice_22">EXERCICE 22</h4>
<div class="paragraph">
<p>Concevoir une fonction nommée <code>exo22</code> qui respecte le scénario suivant :</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>L&#8217;utilisateur est invité à saisir un <strong>code</strong> de caractère</p>
</li>
<li>
<p>Le programme affiche, dans un tableau, le caractère correspondant encadré à droite des 5 caractères suivants et à gauche des 5 caractères précédents à condition que leur code soit supérieur ou égal à celui du caractère <code>espace</code>.</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_exercice_23">EXERCICE 23</h4>
<div class="paragraph">
<p>Concevoir une fonction nommée <code>exo23</code> qui respecte le scénario suivant :</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>L&#8217;utilisateur est invité à choisir une 'langue' parmi 3 autres - à vous de les sélectionner parmi <a href="https://en.wikipedia.org/wiki/Unicode_block">(url) block Unicode</a></p>
</li>
<li>
<p>Le programme affiche, dans un tableau, les 16 (ou plus ?) premiers caractères UNICODE correspondants.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Exemple de 'langue' : <a href="https://en.wikipedia.org/wiki/Hangul_Syllables">Hangul_Syllables</a> Coréen. L&#8217;indice du block est <code>U+AC00</code>. Testons le premier caractère en mode python interactif:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-python hljs" data-lang="python">&gt;&gt;&gt; ord('\uAC00')
44032

# saute les 2 premiers caractères de la chaine 'U+AC00'
&gt;&gt;&gt; int('U+AC00'[2:], base=16)
44032

&gt;&gt;&gt; chr(44032)
'가'</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_exercice_23bis">EXERCICE 23Bis</h4>
<div class="paragraph">
<p>Concevoir une fonction qui attend en 2 paramètres : un indice de block UNICODE et un nombre de caractères à retourner, et qui retourne la chaîne de caractères correspondant à la demande.</p>
</div>
<div class="paragraph">
<p>Appeler cette fonction dans une nouvelle fonction nommée <code>exo23bis</code> et tester cette nouvelle version dans le main.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_type_booléen">Type booléen</h3>
<div class="paragraph">
<p>Le type <code>bool</code> est sous-type de <code>int</code>, et définit 2 valeurs particulières : <code>True</code> et <code>False</code>, pour 1 et zéro respectivement.</p>
</div>
<div class="paragraph">
<p>Testons ces caractéristiques annoncées via une fonction native de Python nommée <code>isinstance</code> qui prend 2 arguments : le premier est l&#8217;objet à tester, le second et un type (une classe). Elle rend vrai si le premier argument est du type du second.</p>
</div>
<div class="paragraph">
<p>Exemple : <code>isinstance("42", int)</code> rendra <code>False</code> car "42" est du type <code>str</code> et non <code>int</code>.</p>
</div>
<div class="listingblock">
<div class="title">Listing 10. POC : type bool is int</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-python hljs" data-lang="python">&gt;&gt;&gt; isinstance(True, bool)
True
&gt;&gt;&gt; isinstance(False, bool)
True

&gt;&gt;&gt; isinstance(True, int)
True
&gt;&gt;&gt; isinstance(False, int)
True

&gt;&gt;&gt; isinstance(True, float)
False

&gt;&gt;&gt; int(True)
1
&gt;&gt;&gt; int(False)
0</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_valeur_de_vérité">Valeur de vérité</h4>
<div class="paragraph">
<p>Toute valeur python peut être interprétée en valeur booléenne via la fonction <code>bool()</code></p>
</div>
<div class="listingblock">
<div class="title">Listing 11. POC type bool</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-python hljs" data-lang="python">&gt;&gt;&gt; bool(1)
True
&gt;&gt;&gt; bool(0)
False
&gt;&gt;&gt; bool(True)
True
&gt;&gt;&gt; bool('Hello World')
True
&gt;&gt;&gt; bool(42)
True</code></pre>
</div>
</div>
<div class="paragraph">
<p>En pratique, toute valeure <strong>différente de zéro ou 'vide'</strong> sera considérée comme <code>True</code>.</p>
</div>
<div class="sect4">
<h5 id="_valeurs_considérées_comme_false">Valeurs considérées comme <code>False</code></h5>
<div class="paragraph">
<p>Seules quelques constantes littérales sont considérées comme fausse :</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>None</code> et <code>False</code></p>
</li>
</ul>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Affecter <strong><code>None</code></strong> à une variable est une façon de dire que cette variable n&#8217;a pas de valeur significative ou "n&#8217;a pas encore de valeur".
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Listing 12. Exemple de POC</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-python hljs" data-lang="python">&gt;&gt;&gt; bool(False)
False

&gt;&gt;&gt; bool(None)
False

&gt;&gt;&gt; bool('None')
True</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>zéro de toute représentation et type numérique : <code>0, 0_000, 0.0, 0j, Decimal(0), Fraction(0, 1)</code></p>
</li>
<li>
<p>les chaînes et collections vides : <code>'', (), [], {}, set(), range(0)</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Les opérations et fonctions natives dont le résultat est booléen renvoient toujours <code>0</code> ou <code>False</code> pour faux et <code>1</code> ou <code>True</code> pour vrai, sauf indication contraire (exception importante : les opérations booléennes or et and renvoient toujours l&#8217;une de leurs opérandes).</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_opérations_booléennes_and_or_not">Opérations booléennes  — and, or, not</h4>
<div class="paragraph">
<p><a href="https://docs.python.org/fr/3/library/stdtypes.html#boolean-operations-and-or-not" class="bare">https://docs.python.org/fr/3/library/stdtypes.html#boolean-operations-and-or-not</a></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. opérateurs par priorité descendante</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Opération</th>
<th class="tableblock halign-left valign-top">Résultat</th>
<th class="tableblock halign-left valign-top">Note</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>not x</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">si x est faux, alors <code>True</code>, sinon <code>False</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>not</code> a une priorité inférieure à celle des opérateurs non-booléens, donc <code>not a == b</code> est interprété comme <code>not (a == b)</code> et <code>a == not b</code> est une erreur de syntaxe.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>x and y</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">si x est faux, alors x, sinon y</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C&#8217;est un opérateur court-circuit, il n&#8217;évalue le deuxième argument que si le premier est vrai.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>x or y</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">si x est vrai, alors x, sinon y</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C&#8217;est un opérateur court-circuit : il n&#8217;évalue le deuxième argument que si le premier est faux.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_opérateurs_de_comparaison">Opérateurs de comparaison</h4>
<div class="paragraph">
<p>Voir le tableau ici : <a href="https://docs.python.org/fr/3/library/stdtypes.html#comparisons" class="bare">https://docs.python.org/fr/3/library/stdtypes.html#comparisons</a></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_travaux_pratiques_2">Travaux pratiques</h3>
<div class="sect3">
<h4 id="_exercice_24">EXERCICE 24</h4>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 2. à renseigner</caption>
<colgroup>
<col style="width: 40%;">
<col style="width: 20%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Opération</th>
<th class="tableblock halign-left valign-top">Résultat</th>
<th class="tableblock halign-left valign-top">Justification</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>bool('')</code> # une chaine vide</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>bool("")</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>bool(' ')</code> # un espace</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>bool(2 * 4 - 8)</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>bool(42)</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>bool(0)</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>bool('zéro')</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>bool(False)</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>bool(False != True)</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>bool(True != True)</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>bool(True * False)</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>bool(True - 1)</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_type_chaîne_de_caractères_string">Type chaîne de caractères (string)</h3>
<div class="paragraph">
<p>En python les chaines de caractères sont instances du type <code>str</code>, et sont des séquences ordonnées de valeurs de point de code UNICODE, pouvant être notées en hexadécimal.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-python hljs" data-lang="python">&gt;&gt;&gt; "\U00000394"
'Δ'
&gt;&gt;&gt; ord("\U00000394")
916</code></pre>
</div>
</div>
<div class="paragraph">
<p>Le terminal peut ne pas être en mesure de représenter le <strong>glyphe</strong> du caractère UTF-8. Dans ce cas, le système affiche le point de code.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-python hljs" data-lang="python">&gt;&gt;&gt; "\U00000394"
'\u0394'</code></pre>
</div>
</div>
<div class="paragraph">
<p>Fort heureusement, le développeur utilise rarement les point de code directement, préférant les glyphes dès que permis.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-python hljs" data-lang="python">&gt;&gt;&gt; print('\u0394\u0395\u0394')
ΔΕΔ

&gt;&gt;&gt; print('ΔΕΔ')
ΔΕΔ

&gt;&gt;&gt; '\u0394\u0395\u0394'[1]
'Ε'

&gt;&gt;&gt; len('\u0394\u0395\u0394')
3

&gt;&gt;&gt; print("Hello World")
Hello World</code></pre>
</div>
</div>
<div style="page-break-after: always;"></div>
<div class="sect3">
<h4 id="_exercice_25_opérations_courantes_sur_les_strings">EXERCICE 25 Opérations courantes sur les strings</h4>
<div class="paragraph">
<p>Voici une liste à compléter, non exhaustive, d&#8217;opérations usuelles sur le type <code>str</code>, à renseigner par vous-même à partir de ces ressources <a href="https://docs.python.org/fr/3/library/stdtypes.html#string-methods">string-methods documentation</a> et <a href="https://docs.python.org/fr/3/library/stdtypes.html#common-sequence-operations">common-sequence-operations</a> - il y a bien entendu d&#8217;autres ressources non officielles, comme <a href="https://fr.wikibooks.org/wiki/Programmation_Python/Chaines_de_caract%C3%A8res">sur wikibooks.org</a> par exemple.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 3. à compléter à partir de cet exemple : x = " Hello World ! " (15 caractères)</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Opération</th>
<th class="tableblock halign-left valign-top">Python</th>
<th class="tableblock halign-left valign-top">Exemple</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Extraire le "caractère" 'H' (chaîne de longueur 1) de <code>x</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Utilisation de la notation <code>[]</code> en spécifiant la position de l&#8217;élément souhaité</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>c = x[1]</code> # <em>'H' est le 2ième élément de la chaîne référencée par x (le premier est un espace)</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Extraction de la sous-chaîne 'Hello'</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Changement de casse</p>
<p class="tableblock">(majuscule &lt;-&gt; minuscule)</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Suppression de "blancs" en queue et/ou en tête</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Recherche d&#8217;une occurrence d&#8217;une sous-chaîne dans la chaîne</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Compteur le nombre de 'l' dans x</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Quel est l&#8217;opérateur de concaténation ?</p>
<p class="tableblock">(qui crée une nouvelle <code>str</code> à partir de plusieurs autres)</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Peut-on comparer des chaines entre elles ?</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Comment tester qu&#8217;un chaîne est vide ?</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Comment obtenir la longueur d&#8217;une chaîne ?
(nombre de points de code de la chaîne)</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tentative de conversion : chaîne &lt;-&gt; numérique</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_travaux_pratique">Travaux pratique</h3>
<div class="sect3">
<h4 id="_exercice_26">EXERCICE 26</h4>
<div class="paragraph">
<p>On vous demande de programmer le scénario suivant (fonction nommée <code>exo26</code>).</p>
</div>
<div class="paragraph">
<p>L&#8217;utilisateur est invité à entrer <strong>deux lignes</strong> de texte respectant chacune le format suivant :</p>
</div>
<div class="listingblock">
<div class="content">
<pre>&lt;public&gt;;&lt;code produit&gt;;&lt;qté vendue&gt;;&lt;mois&gt;;&lt;année&gt;;&lt;commentaire&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>Le programme, après avoir vérifié le nombre de champs (6) de chacune de ces lignes, <strong>affiche le détail</strong> des informations  (Mois,  Année, Public, Code Produit, Qté vendue et Commentaire)</p>
</div>
<div class="paragraph">
<p>Il y a deux cas de figure :</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Le code produit est le même, alors les informations ne seront affichées qu&#8217;une seule fois,</p>
</li>
<li>
<p>Le code produit est différent, les informations seront affichées en deux fois.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Exemples de scénarios à reproduire</p>
</div>
<div class="listingblock">
<div class="title">Listing 13. Scénario A (même code produit pour les deux lignes)</div>
<div class="content">
<pre>Entrez une première ligne d'informations de ventes :
F;a12;21;mars;2023; Attention, léger défaut...

Entrez une deuxième ligne d'informations de ventes :
F;a12;14;avril;2023; Attention, léger défaut...

Voici la fiche produit :

	Date : MARS-2001, AVRIL-2023
	Public : FEMME
	Code Produit : A12
	Qté vendue  : 35
	Commentaire : Attention, léger défaut...</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Listing 14. Scénario B (codes différents, une ligne sans commentaire)</div>
<div class="content">
<pre>Entrez une première ligne d'informations de ventes :
F;a12;21;mars;2023; Attention, léger défaut...
Entrez une deuxième ligne d'informations de ventes :
H;d45;11;mars;2023;

Voici les fiches produit :

Date : MARS-2023
Public : FEMME
Code Produit : A12
Qté vendue  : 21
Commentaire : Attention, léger défaut...

Date : MARS-2023
Public : HOMME
Code Produit : D45
Qté vendue  : 11
Commentaire : AUCUN</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Listing 15. Scénario C (mauvais format de ligne)</div>
<div class="content">
<pre>Entrez une première ligne d'informations de ventes :
F;a12;21;mars-2001; Attention, léger défaut...
ERREUR de format !</pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Pour éviter de faire saisir les 2 lignes à l&#8217;utilisateur, vous pouvez lui demander de passer ces informations en argument du programme. Exemple :</p>
</div>
<div class="paragraph">
<p><code>$ python  tp2Final.py &lt; produits.txt</code></p>
</div>
<div class="paragraph">
<p>où <code>produits.txt</code> est un fichier texte contenant 2 lignes de produits au format attendu (transmis sur le canal standard)</p>
</div>
<div class="paragraph">
<p>Le module <code>fileinput</code> est très pratique pour ce type d&#8217;exploitation. L&#8217;exemple ci-dessous affiche le contenu du fichier reçu en argument - <strong>en fait il lit l&#8217;entrée standard jusqu&#8217;à attendre le symbole de fin de transmission (U+0004 - CTRL+D)</strong> (ou CTRL+Z sous windows). Testez-le !</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-python hljs" data-lang="python"># https://docs.python.org/3/library/fileinput.html
def process_data() :
    import fileinput
    for line in fileinput.input(encoding="utf-8"):
        print(line)</code></pre>
</div>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_exercice_27">EXERCICE 27</h4>
<div class="paragraph">
<p>On se place dans le scénario A. Nous appellerons <strong>A'</strong> (A prime) ce scénario étendu. Le voici :</p>
</div>
<div class="paragraph">
<p><em>Si le code produit est de nouveau saisi sur la deuxième ligne, alors on considère que l&#8217;utilisateur souhaite une mise à jour du produit.
<strong>Seuls les champs renseignés lors de cette seconde saisie seront mis à jour</strong>.</em></p>
</div>
<div class="olist arabic">
<div class="title"><strong>Travail à faire</strong></div>
<ol class="arabic">
<li>
<p>Donner un exemple de scénario A', avec des valeurs comme dans l&#8217;énoncé.</p>
</li>
<li>
<p>Implémenter et, bien entendu, tester le scénario A'</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_exercice_hacking_28">EXERCICE HACKING 28</h4>
<div class="paragraph">
<p>Voici un programme python faisant usage de caractères unicode non conventionnels. Certains de ces caractères peuvent ne pas avoir un glyphe spécifique associé !!</p>
</div>
<div class="paragraph">
<p>C&#8217;est une technique d'<strong>obfuscation de code source</strong>, bien connue des hackers malveillants, cherchant à décourager les personnes souhaitant comprendre le code source (souvent encodé à la base)</p>
</div>
<div class="paragraph">
<p>On vous assure que ce code est sans risque ! n&#8217;hésitez pas à l&#8217;exécuter.</p>
</div>
<div class="olist arabic">
<div class="title"><strong>Travail à faire</strong></div>
<ol class="arabic">
<li>
<p>Votre mission consiste à déchiffrer ce code (<strong>le remettre en clair</strong>), en expliquant votre démarche.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-python hljs" data-lang="python">import sys as Ꭓ𝑿
import random as X
X.seed('𝒙')
𝒙 = [print,"Hello World !",2,"Hello",__name__,1,"",len,"__main__","!"]
X.shuffle(𝒙)

def Ꭓ(𝑿):
    if 𝑿:
        𝒙[0](𝒙[1], 𝑿, 𝒙[2])
    else:
        𝒙[0](𝒙[3])
if (𝒙[4] == 𝒙[5]):
    (Ꭓ(𝒙[8]) if (𝒙[6](Ꭓ𝑿.argv) &lt; 𝒙[7]) else Ꭓ(Ꭓ𝑿.argv[𝒙[9]]))</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_contrôler_vos_connaissances_et_contribuer_aux_qcms_2">Contrôler vos connaissances et contribuer aux QCMs</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Contrôler vos connaissances sur <a href="https://quizbe.org/question?id-selected-topic=6">quizbe.org</a>. (choisir <code>PYTHON-1</code>, scope <code>p-2-type</code>)</p>
</li>
<li>
<p>Proposer, pour le thème <code>PYTHON-LDV</code>, scope <code>p-2-type</code>, 2 questions QCM originales et personnelles, sur des thèmes couverts pas cette séquence d&#8217;exercices.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_python_3_déboguer">Python-3 Déboguer</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Lycée Léonard de Vinci - Melun
v0.1a, 2023-07-16 - Version asciidoc
:description: support avec exercices
:icons: font
:listing-caption: Listing
:toc-title: Table des matières
:toc: left
:toclevels: 4
:source-highlighter: highlight.js
:imagesdir: ../assets/images</p>
</div>
<div class="sect2">
<h3 id="_quest_ce_que_le_débogage">Qu&#8217;est-ce que le débogage ?</h3>
<div class="ulist">
<ul>
<li>
<p>Le débogage est un processus d&#8217;identification d&#8217;erreurs dans le code source d&#8217;un programme.</p>
</li>
<li>
<p>Les erreurs dans le code sont appelées des "bugs".</p>
</li>
<li>
<p>Les bugs peuvent provoquer des comportements indésirables ou un plantage du programme.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_pourquoi_le_débogage_est_il_important">Pourquoi le débogage est-il important ?</h3>
<div class="ulist">
<ul>
<li>
<p>Le débogage permet de comprendre plus rapidement la nature de certaines erreurs.</p>
</li>
<li>
<p>Le débogage aide à comprendre le fonctionnement du code, ce qui <strong>améliore les compétences en programmation</strong>.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_méthodes_de_débogage">Méthodes de débogage</h3>
<div class="paragraph">
<p>Il existe plusieurs approches, complémentaires entre elles.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Analyser la logique du programme pour en détecter les failles.</p>
</li>
<li>
<p>Afficher des valeurs en cours d&#8217;exécution.</p>
</li>
<li>
<p>Interagir pas à pas avec le programme en cours d&#8217;exécution en utilisant un <em>debogger</em></p>
</li>
</ol>
</div>
<div class="sect3">
<h4 id="_afficher_des_valeurs">Afficher des valeurs</h4>
<div class="paragraph">
<p>La technique consiste à utiliser <strong>provisoirement</strong> des instructions <strong><em>print</em></strong> afin d&#8217;obtenir des traces d&#8217;exécution sur la console de lancement du script.</p>
</div>
<div class="listingblock">
<div class="title">Listing 16. Exemple print</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-python hljs" data-lang="python">print(f"Le prédécesseur de {chr(x)} est {chr(pred(x))}") <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Cet exemple utilise la technique qui permet de formater des chaînes littérales incluant des expressions entre accolades <code>{}</code>. Attention à préfixer la chaîne avec 'f' ou 'F'. Ces chaînes sont appelées <em>formatted string literal</em> ou <em>f-string</em></td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Cette technique a ses limites. Elle s&#8217;avère fastidieuse lorsqu&#8217;il y a plusieurs variables à inspecter. De plus, le développeur ne doit pas oublier de supprimer (ou de commenter) ces instructions de débogage une fois le problème réglé.</p>
</div>
</div>
<div class="sect3">
<h4 id="_utiliser_le_débogueur_debugger_intégré">Utiliser le débogueur (debugger) intégré</h4>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Analyser un code avec un débogueur c&#8217;est entreprendre une analyse du programme en cours d&#8217;exécution.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Le débogage est une action qui consiste à interroger la mémoire vive d&#8217;un programme à l&#8217;exécution, à un instant <em>t</em>.</p>
</div>
<div class="paragraph">
<p>L&#8217;instant débogué est d&#8217;ordinaire celui du <strong>pointeur d&#8217;exécution</strong> <sup class="footnote">[<a id="_footnoteref_1" class="footnote" href="#_footnotedef_1" title="View footnote.">1</a>]</sup>.</p>
</div>
<div class="paragraph">
<p>L&#8217;idée est d'<strong>arrêter provisoirement l&#8217;exécution d&#8217;un programme</strong> afin d&#8217;interroger son contexte mémoire, une sorte d&#8217;instantané d&#8217;une partie de la mémoire vive. Le développeur peut alors consulter la valeur des variables exploitées à ce moment là par le programme et comparer ces valeurs avec ses prédictions afin d&#8217;y déceler d&#8217;éventuels anomalies.</p>
</div>
<div class="paragraph">
<p>Python dispose d&#8217;un débogueur intégré appelé <code>pdb</code>, qui permet d&#8217;exécuter le code pas à pas et d&#8217;inspecter les variables à chaque étape.</p>
</div>
<div class="paragraph">
<p>Utilisez les commandes <code>break</code>, <code>continue</code>, <code>step</code>, <code>print</code>, etc., pour naviguer dans le code et examiner les valeurs.</p>
</div>
<div class="sect4">
<h5 id="_en_mode_console">En mode console</h5>
<div class="paragraph">
<p>L&#8217;instruction <code>breakpoint()</code> permet de mettre le programme en pause afin de consulter des valeurs à un instant <em>t</em> choisi par le développeur.</p>
</div>
<div class="listingblock">
<div class="title">Listing 17. Exemple d&#8217;une instruction de point d&#8217;arrêt</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-python hljs" data-lang="python">def exo3() -&gt; None :
  x=int(input("Entrez un nombre entier svp : "))
  breakpoint() <i class="conum" data-value="1"></i><b>(1)</b>
  if x%2==0 :  # la valeur de x est-elle divisible par 2 ?
    print("Ce nombre est pair")
  else :
    print("Ce nombre est impair")</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>L&#8217;exécution du programme s&#8217;arrêtera ici. Le développeur peut alors interroger la valeur de la variable <code>x</code>.</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Listing 18. Exemple d&#8217;interactions avec le débogueur</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-console hljs" data-lang="console">$ ./test.py
Entrez un nombre entier svp : 2
&gt; test.py(19)exo3() <i class="conum" data-value="1"></i><b>(1)</b>
-&gt; if x%2==0 :  # la valeur de x est-elle divisible par 2 ?
(Pdb) x  <i class="conum" data-value="2"></i><b>(2)</b>
2 <i class="conum" data-value="3"></i><b>(3)</b>
(Pdb) continue <i class="conum" data-value="4"></i><b>(4)</b>
Ce nombre est pair <i class="conum" data-value="5"></i><b>(5)</b>
$</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Le débogueur <code>Pdb</code> a mis en pause l&#8217;exécution du programme (ligne 19)</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>(mode interactif) Le développeur, en interaction avec le débogueur, demande la valeur de la variable <code>x</code></td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Le débogueur retourne <code>2</code> (la valeur saisie par l&#8217;utilisateur)</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Le développeur demande la poursuite du programme jusqu&#8217;au prochain point d&#8217;arrêt (sinon, pour avancer pas à pas, utiliser <code>step</code>)</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Le programme s&#8217;est terminé car il n&#8217;y a plus aucun autre point d&#8217;arrêt</td>
</tr>
</table>
</div>
<div class="sect5">
<h6 id="_exercice_30">EXERCICE 30</h6>
<div class="paragraph">
<p>Placer l&#8217;instruction <code>breakpoint()</code> dans un de vos scripts, et tester le.</p>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_débogueur_piloté_par_lide">Débogueur piloté par l&#8217;IDE</h5>
<div class="paragraph">
<p>C&#8217;est la façon la plus souple d&#8217;interagir avec un débogueur.</p>
</div>
<div class="paragraph">
<p>Nous utilisons <code>code</code> (visual studio code) pour la démonstration.</p>
</div>
<div class="sect5">
<h6 id="_définition_dun_point_darrêt">Définition d&#8217;un point d&#8217;arrêt</h6>
<div class="paragraph">
<p>Dans l&#8217;éditeur, une colonne (à gauche) est dédiée à la pause de point d&#8217;arrêt.</p>
</div>
<div class="paragraph">
<p>Exemple :
<span class="image"><img src="code-debug-1-dia.png" alt="code-debug-1-dia.png"></span></p>
</div>
</div>
<div class="sect5">
<h6 id="_avancement_pas_à_pas">Avancement pas à pas</h6>
<div class="paragraph">
<p>Dans l&#8217;éditeur, une colonne (à gauche) est dédiée à la pause de points d&#8217;arrêt.</p>
</div>
<div class="paragraph">
<p>Exemple pour entrer dans le code d&#8217;une fonction appelée
<span class="image"><img src="code-debug-2-dia.png" alt="code-debug-2"></span></p>
</div>
<div class="paragraph">
<p>Exemple pour ne pas entrer dans le code d&#8217;une fonction appelée
<span class="image"><img src="code-debug-3-dia.png" alt="code-debug-3"></span></p>
</div>
<div class="paragraph">
<p>Exemple de consultation des variables locales
<span class="image"><img src="code-debug-4-dia.png" alt="code-debug-4"></span></p>
</div>
<div class="paragraph">
<p>N&#8217;hésitez pas à explorer les autres commandes de la bare de debug (<code>continue</code>, <code>restart</code>, <code>stop</code>)</p>
</div>
</div>
<div class="sect5">
<h6 id="_exercice_31">EXERCICE 31</h6>
<div class="paragraph">
<p>Reprendre l&#8217;exemple ci-dessous, supprimer tous les points d&#8217;arrêt.</p>
</div>
<div class="paragraph">
<p>Ajouter un <strong>point d&#8217;arrêt conditionnel</strong> sur la ligne 6. Pour cela, une fois placé le point d&#8217;arrêt, faire un clic droit sur celui-ci , puis sélectionner <code>Edit breakpoint&#8230;&#8203;</code>. Comme valeur de l&#8217;expression, inscrire par exemple <code>x == 42</code>.</p>
</div>
<div class="paragraph">
<p>Lancer le mode debug. Le programme se mettra en pause debug que si la valeur de x égalera 42.</p>
</div>
<div class="paragraph">
<p>Une technique fort pratique pour pister des erreurs !</p>
</div>
<div class="paragraph">
<p>Testez-la !</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_les_assertions_pour_se_prémunir_de_certains_bugs">Les assertions pour se prémunir de certains bugs</h3>
<div class="paragraph">
<p>Les assertions sont des instructions qui vérifient la cohérence de valeurs en cours d&#8217;exécution dans le code.</p>
</div>
<div class="paragraph">
<p>Elles peuvent être utilisées pour vérifier des résultats intermédiaires ou des conditions d&#8217;utilisation de fonctions (particulièrement dans le cas de langage de script non typés).</p>
</div>
<div class="sect3">
<h4 id="_linstruction_assert">L&#8217;instruction assert</h4>
<div class="paragraph">
<p>L&#8217;instruction <code>assert</code> permet de vérifier qu&#8217;une condition est vraie à un point particulier du code. Si la condition n&#8217;est pas vérifié, une exception (<code>AssertionError</code>) est alors déclenchée qui, si elle n&#8217;est pas traitée par l&#8217;appelant, entraînera l&#8217;arrêt non contrôlé du programme (bug)</p>
</div>
<div class="listingblock">
<div class="title">Listing 19. Exemple d&#8217;instruction <code>assert</code></div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-python hljs" data-lang="python">def extract_name(full_name : str) -&gt; tuple : <i class="conum" data-value="1"></i><b>(1)</b>
    """
    Algorithme naïf, full_name de la forme "prénom nom"
    Retourne une liste de 2 éléments
    """
    assert isinstance(full_name, str), "Le nom complet doit être une chaîne de caractères."
    names = full_name.split() # place les différentes partie de full_name dans une liste
    assert len(names) &gt;= 2, "Le nom complet doit contenir au moins un prénom et un nom de famille."
    first_name = names[0]
    last_name = names[-1]
    return first_name, last_name

# Exemple d'utilisation
try:
    full_name = "John Doe"
    first_name, last_name = extract_name(full_name)
    print(f"Prénom : {first_name}")
    print(f"Nom de famille : {last_name}")
except AssertionError as e:
    print(f"Erreur : {e}")</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>La structure de données <code>tuple</code> (une liste de valeurs) sera étudiée dans la section suivante</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Dans cet exemple, nous avons une fonction <code>extract_name()</code> qui extrait le prénom et le nom de famille d&#8217;une chaîne de caractères qui représente un nom complet.</p>
</div>
<div class="paragraph">
<p>L&#8217;instruction <code>assert</code> est utilisée pour vérifier deux choses :</p>
</div>
<div class="ulist">
<ul>
<li>
<p>La variable full_name doit être une chaîne de caractères. Si ce n&#8217;est pas le cas, une exception <code>AssertionError</code> est levée avec le message : "Le nom complet doit être une chaîne de caractères."</p>
</li>
<li>
<p>La chaîne de caractères full_name doit contenir au moins un prénom et un nom de famille. Si la chaîne ne contient pas au moins deux parties (prénom et nom de famille) séparées par un espace, une exception <code>AssertionError</code> est levée avec le message : "Le nom complet doit contenir au moins un prénom et un nom de famille."</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Ces assertions nous permettent de nous assurer que la fonction <code>extract_name()</code> est correctement utilisée avec une chaîne de caractères représentant un nom complet. Si un développeur utilise la fonction de manière incorrecte en passant un autre type de variable ou une chaîne de caractères mal formatée, les assertions lèveront une exception pour signaler le problème.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Les assertions sont particulièrement utiles pour valider les entrées de fonction, les préconditions et les invariants, permettant ainsi de s&#8217;assurer que le code est utilisé correctement et en accord avec les attentes du développeur concepteur de la fonction.
</td>
</tr>
</table>
</div>
<div class="sect4">
<h5 id="_exercice_33">EXERCICE 33</h5>
<div class="paragraph">
<p>Tester la fonction <code>extract_name</code>, en pas à pas avec le débogueur, avec au moins 3 scénarios :</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>un de réussite (à l&#8217;instar de celui fourni)</p>
</li>
<li>
<p>un avec une erreur de type</p>
</li>
<li>
<p>un avec une erreur de mauvais contenu de chaîne</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Pour les plus avancés :</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>Modifier la fonction pour qu&#8217;elle considère que le nom de famille est toute la seconde partie après le prénom (premier mot). À tester avec <code>Guido van Rossum</code>.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_contrôler_vos_connaissances_et_contribuer_aux_qcms_3">Contrôler vos connaissances et contribuer aux QCMs</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Contrôler vos connaissances sur <a href="https://quizbe.org/question?id-selected-topic=6">quizbe.org</a>. (choisir <code>PYTHON-1</code>, scope <code>p-3-debug</code>)</p>
</li>
<li>
<p>Proposer, pour le thème <code>PYTHON-1</code>, scope <code>p-3-debug</code>, 2 questions QCM originales et personnelles, sur des thèmes couverts pas cette séquence d&#8217;exercices.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_python_4_collections">Python-4 Collections</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Lycée Léonard de Vinci - Melun
v0.1a, 2023-07-16 - Version asciidoc
:description: support avec exercices
:icons: font
:listing-caption: Listing
:toc-title: Table des matières
:toc: left
:toclevels: 4
:source-highlighter: highlight.js
:imagesdir: ../assets/images</p>
</div>
<div class="sect2">
<h3 id="_mise_en_condition">Mise en condition</h3>
<div class="paragraph">
<p>Nous avons vu qu&#8217;un programme manipule des valeurs. Ces dernières sont principalement référencées par des variables, ou constante définies directement dans le code source (constante littérale).</p>
</div>
<div class="paragraph">
<p>Nous avons alors une correspondance simple entre u identifiant et une valeur.</p>
</div>
<div class="paragraph">
<p>Une variable étant associée, à un instant <em>t</em>, à un type de donnée et à une et une seule valeur.</p>
</div>
<div class="sect3">
<h4 id="_exercice_42">EXERCICE 42</h4>
<div class="paragraph">
<p>Prenons un exemple simple d&#8217;un programme qui calculerait la note d&#8217;un joueur en fonction de ses différents scores aux compétitions, obtenus au cours de l&#8217;année en cours. Le calcul de la note d&#8217;un joueur est la moyenne de ses scores, mais est <strong>exclut</strong> de ce calcul un des scores correspondant à la valeur minimale des scores. Exemple, si les scores sont <code>0, 100, 100, 100</code> alors le <code>0</code> ne sera pas comptabilisé dans la moyenne, donc la note du joueur sera <code>(100 + 100 + 100) / 3 = 100</code>.</p>
</div>
<div class="paragraph">
<p>Pour les besoins de l&#8217;exercice, on conçoit une fonction, nommée <code>note</code>, qui prend 4 valeurs de scores, que l&#8217;on nommera <code>score1</code> à <code>score4</code> (valeurs supérieures ou égales 0) et qui calcule la note selon la règle précisée ci-dessus. Voici l&#8217;interface de la fonction à implémenter en python :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-python hljs" data-lang="python">def note(score1, score2, score3, score4) -&gt; int</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Travail à faire</strong></p>
</div>
<div class="exampleblock">
<div class="content">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Implémenter la fonction <code>note</code> dans le respect de la logique du calcul présentée ci-dessus.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="exampleblock">
<div class="content">
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Vérifier que votre fonction retourne bien la valeur attendue. Pour cela nous vous communiquons la fonction de tests suivante :</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-python hljs" data-lang="python">def test_note() -&gt; bool:
    return (
        note(0, 100, 100, 100) == 100
        and note(0, 100, 100, 0) == 67
        and note(100, 100, 100, 100) == 100
        and note(0, 0, 0, 100) == 33
        and note(0, 0, 100, 0) == 33
        and note(0, 100, 0, 0) == 33
        and note(100, 0, 0, 0) == 33
        and note(0, 0, 0, 0) == 0
        and note(100, 100, 100, 1000) == 400
    )</code></pre>
</div>
</div>
<div class="paragraph">
<p>Lancer votre fonction <code>testNote()</code> à partir du <code>main</code> de votre script.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-python hljs" data-lang="python">if __name__ == "__main__":
    print(test_note())</code></pre>
</div>
</div>
</div>
</div>
<div class="exampleblock">
<div class="content">
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>L&#8217;appel de la fonction <code>testNote()</code> doit rendre <code>True</code>.  Corrigez l&#8217;implémentation de votre fonction <code>note</code> si nécessaire.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="paragraph">
<p><strong>&#8658; <mark>IMPORTANT</mark> : Aborder la suite qu&#8217;après avoir réussi à résoudre l&#8217;exercice 42.</strong> Faites-vous aider le cas échéant. <a href="https://www.cairn.info/revue-approche-centree-sur-la-personne-2009-2-page-29.htm">On apprend par nos erreurs</a></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_structure_de_données_de_type_collection">Structure de données de type Collection</h3>
<div class="paragraph">
<p>Nous avons défini une fonction <code>note</code>, qui prend en argument 4 valeurs. S&#8217;il fallait prendre 5 ou plus de valeurs, il nous faudrait définir d&#8217;autres versions de cette fonction&#8230;&#8203; Exemple.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-python hljs" data-lang="python">def note(score1, score2, score3, score4) -&gt; int
def note5(score1, score2, score3, score4, score5) -&gt; int
def note6(score1, score2, score3, score4, score5, score6) -&gt; int
etc.</code></pre>
</div>
</div>
<div class="paragraph">
<p>Mais ce n&#8217;est pas la bonne solution !</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Rappelez-vous de cela, si un jour vous êtes amené à penser de la sorte, alors votre analyse est certainement à revoir.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Il y a mieux à faire. La bonne solution consiste à passer <strong>une liste - ou collection - de valeurs</strong> à la fonction <code>note</code>.</p>
</div>
<div class="paragraph">
<p>Python propose plusieurs types prédéfinis de collections <sup class="footnote">[<a id="_footnoteref_2" class="footnote" href="#_footnotedef_2" title="View footnote.">2</a>]</sup>. Pour l&#8217;heure nous nous intéressons aux principaux types natifs : <code>list</code>, <code>set</code>, <code>dict</code> et <code>tuple</code>.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>list</code> est une <strong>structure de données</strong> de type <strong>séquentiel</strong>, au même titre que <code>str</code>, mais <strong>muable</strong>. Une instance de <code>list</code> dispose des mêmes opérations que <code>str</code>. Donc vous êtes déjà familiarisé avec cette structure, sauf que les éléments de <code>list</code> ne sont pas réduits à des chaînes. Particularité : type séquentiel, donc les index sont des entiers (commence à zéro) et la structure est <strong>muable</strong>, elle permet donc l&#8217;ajout, la suppression et le remplacement d&#8217;éléments (contrairement à <code>str</code>).</p>
</li>
<li>
<p><code>set</code> est une structure de données <strong>muable</strong> de type <strong>ensemble</strong>, non organisée séquentiellement. Particularité : structure <strong>non indexée</strong> et <strong>n&#8217;accepte pas  d&#8217;éléments en doublon</strong>.</p>
</li>
<li>
<p><code>dict</code> est une structure de données <strong>muable</strong> de type <strong>dictionnaire</strong>, non organisée séquentiellement. Particularité : les index sont des objets, par exemple des index de type string, comme un dictionnaire (nom &#8594; définition), d&#8217;où son nom.</p>
</li>
<li>
<p><code>tuple</code> est une structure de données <strong>immuable</strong> de type <strong>séquentiel</strong>. Particularité : type séquentiel, donc les index sont des entiers (comme string)</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Une classification des principales collections natives :</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="collections-heritage1.png" alt="collections heritage1">
</div>
</div>
<div class="paragraph">
<p>À noter : Il existe également un type <code>set</code> immuable : <a href="https://docs.python.org/fr/3/library/stdtypes.html#set-types-set-frozenset"><code>frozenset</code></a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_opérations_courantes_sur_les_structures_séquentielles">Opérations courantes sur les structures séquentielles</h3>
<div class="paragraph">
<p><span class="image"><img src="sequence-operations-courantes.png" alt="sequence-operations-courantes.png"></span>
<a href="https://docs.python.org/fr/3/library/stdtypes.html#common-sequence-operations" class="bare">https://docs.python.org/fr/3/library/stdtypes.html#common-sequence-operations</a></p>
</div>
</div>
<div class="sect2">
<h3 id="_déclaration_de_variables_collection">Déclaration de variables Collection</h3>
<div class="paragraph">
<p>Exemple de déclaration et initialisation de variables de type <strong>conteneur</strong> (autre nom pour <strong>collection</strong>)</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-python hljs" data-lang="python">def declare_collections() :
    """ Exemple de syntaxe de déclaration et initialisation de collections """
    une_liste : list = ['a', 'a', '123', 123] # crochets (bracket)
    un_tuple  : tuple = ('a', 'a', '123', 123) # parenthèses (optionnelles)
    un_ensemble : set = {'a', 'a', '123', 123} # accolades (brace)
    un_dico : dict = {1:'a', 3:'a', 5:'123', 7:123} # accolades avec couples clé:valeur comme éléments (key:value)

    print(f"Nombre d'éléments de la liste : {len(une_liste)}")  # 4
    print(f"Nombre d'éléments du tuple : {len(un_tuple)}")      # 4
    print(f"Nombre d'éléments de l'ensemble : {len(un_ensemble)}") # 3 (pas de doublons)
    print(f"Nombre d'éléments du dictionnaire : {len(un_dico)}")   # 4
    print('-------------------------------------------------------')
    print(f"Premier élément de la liste (index 0) : {une_liste[0]}")
    print(f"Premier élément du tuple (index 0) : {un_tuple[0]}")
    print("Premier élément du set : Non Applicable ") # de plus l'ordre des éléments dans un `set` n'est pas garanti...
    print(f"Élément du dico (ici clé = 1) : {un_dico[1]}")</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Les structures de données natives ont leur propre syntaxe qu&#8217;il faut connaître. <code>[]</code> &#8658; <code>list</code>, <code>{}</code> &#8658; <code>set</code> et <code>dict</code>, <code>{key:value}</code> &#8658; <code>dict</code>, <code>()</code> &#8658; <code>tuple</code>.
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="_création_dinstances_de_tuple">Création d&#8217;instances de <code>tuple</code></h4>
<div class="paragraph">
<p>Les tuples peuvent être construits de différentes façons :</p>
</div>
<div class="ulist">
<ul>
<li>
<p>en utilisant une paire de parenthèses pour désigner le tuple vide : <code>()</code> ;</p>
</li>
<li>
<p>en utilisant une virgule, pour créer un tuple d&#8217;un élément : <code>a,</code> ou <code>(a,)</code> ;</p>
</li>
<li>
<p>en séparant les éléments avec des virgules : <code>a, b, c</code> ou <code>(a, b, c)</code> ; (parenthèses optionnelles)</p>
</li>
<li>
<p>en utilisant la fonction native <code>tuple()</code> : <code>tuple()</code> ou <code>tuple(iterable)</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>voir ici : <a href="https://docs.python.org/fr/3/library/stdtypes.html#tuple" class="bare">https://docs.python.org/fr/3/library/stdtypes.html#tuple</a></p>
</div>
</div>
<div class="sect3">
<h4 id="_création_dinstances_de_set">Création d&#8217;instances de <code>set</code></h4>
<div class="paragraph">
<p>Les ensembles peuvent être construits de différentes manières :</p>
</div>
<div class="ulist">
<ul>
<li>
<p>création d&#8217;un ensemble vide : <code>set()</code> (<code>{}</code> est réservé au dictionnaire)</p>
</li>
<li>
<p>en utilisant une liste d&#8217;éléments séparés par des virgules entre accolades : <code>{'Bob', 'Alice'}</code></p>
</li>
<li>
<p>en utilisant un ensemble en compréhension : <code>{c for c in 'abracadabra' if c not in 'abc'}</code>  (donne <code>{'d', 'r'}</code>);</p>
</li>
<li>
<p>en utilisant le constructeur du type : <code>set()</code>, <code>set('foobar')</code>, <code>set(['a', 'b', 'foo'])</code>.</p>
</li>
</ul>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Les <code>set</code> sont de type muable (<em>mutable</em>), mais il existe aussi le type <code>frozenset</code> qui est un <code>set</code> immuable (<em>immutable</em>).</p>
</div>
<div class="paragraph">
<p>Ces deux classes disposent des opérations sur les ensembles bien pratiques telles que : la <strong>différence</strong>, l'<strong>union</strong> et l'<strong>intersection</strong> de 2 ensembles.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="ens-operations-venn.png" alt="ens operations venn">
</div>
</div>
<div class="paragraph">
<p>Voir ici  <a href="https://docs.python.org/fr/3/library/stdtypes.html#set" class="bare">https://docs.python.org/fr/3/library/stdtypes.html#set</a> et là aussi par exemple <a href="https://python.developpez.com/tutoriels/apprendre-programmation-python/notions-avancees/">python - notions avancées chez developpez.com</a></p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_création_dinstances_de_dict">Création d&#8217;instances de <code>dict</code></h4>
<div class="paragraph">
<p>Les dictionnaires peuvent être construits de différentes manières :</p>
</div>
<div class="ulist">
<ul>
<li>
<p>en utilisant une liste de paires clé: valeur séparées par des virgules entre accolades : <code>{'Bob': 13, 'Alice': 42}</code> ou, inversion clé/valeur, <code>{13: 'Bob', 42: 'Alice'}</code></p>
</li>
<li>
<p>en utilisant un dictionnaire en <strong>compréhension</strong> : <code>{}</code>, <code>{x: x ** 2 for x in range(10)}</code> ;</p>
</li>
<li>
<p>en utilisant le constructeur du type : <code>dict()</code>, <code>dict([('foo', 100), ('bar', 200)])</code>, <code>dict(foo=100, bar=200)</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>voir ici : <a href="https://docs.python.org/fr/3/library/stdtypes.html#dict" class="bare">https://docs.python.org/fr/3/library/stdtypes.html#dict</a></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_choisir_la_bonne_structure_de_données">Choisir la bonne structure de données</h3>
<div class="paragraph">
<p>Si la collection de type liste n&#8217;a pas à être modifiée une fois créée, préférer un type <strong>immuable</strong>. Ces structures de données sont plus efficaces. Donc <code>tuple</code> au lieu de <code>list</code>.</p>
</div>
<div class="paragraph">
<p>Si les index sont des valeurs métier, le dictionnaire s&#8217;impose, sinon une structure indexée par des entiers est plus efficace en générale.</p>
</div>
<div class="paragraph">
<p>Si la structure de données conteneur doit faire l&#8217;objet d&#8217;opérations ensembliste comme l&#8217;union, l&#8217;intersection etc. alors préférer le type <code>set</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_itérer_sur_tous_les_éléments_dune_collection">Itérer sur tous les éléments d&#8217;une collection</h3>
<div class="sect3">
<h4 id="_boucle_for_idiomatique">Boucle <em>for</em> idiomatique :</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-python hljs" data-lang="python">fruits = ['tomates', 'bananes', 'kiwis'] <i class="conum" data-value="1"></i><b>(1)</b>

for fruit in fruits : <i class="conum" data-value="2"></i><b>(2)</b>
    print(fruit)  <i class="conum" data-value="3"></i><b>(3)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td><strong>(IMPORTANT)</strong> Il est d&#8217;usage d&#8217;utiliser le <strong>pluriel</strong> (<code>fruits</code>) pour le noms de variables de type collection</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>La variable <code>fruit</code> (au singulier) est une <strong>variable de boucle</strong> (créée pour l&#8217;occasion), qui var prendre, successivement, la valeur de chacun des éléments de la liste.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Le corps de la boucle. Ici on affiche la valeur de l&#8217;élément courant (<strong>ne pas hésitez à pauser un point d&#8217;arrêt sur cette ligne pour comprendre l&#8217;itération</strong> )</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Un exécution donnera :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">tomates
bananes
kiwis</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Attention, dans le cas des dictionnaires, cette structure retournera les clés, pas les valeurs.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-python hljs" data-lang="python">un_dico : dict = {1:'a', 3:'a', 5:'123', 7:123}
for k in un_dico :
    print(k, un_dico[k])

'''
result :
1 a
3 a
5 123
7 123
'''</code></pre>
</div>
</div>
<div class="paragraph">
<p>Pour d&#8217;autres façons d&#8217;opérer, voir ici : <a href="https://stackoverflow.com/questions/3294889/iterating-over-dictionaries-using-for-loops" class="bare">https://stackoverflow.com/questions/3294889/iterating-over-dictionaries-using-for-loops</a></p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_autres_modèle_ditérations">Autres modèle d&#8217;itérations :</h4>
<div class="sect4">
<h5 id="_modèle_classique">Modèle "classique"</h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-python hljs" data-lang="python">fruits = ['tomates', 'bananes', 'kiwis']

i = 0 <i class="conum" data-value="1"></i><b>(1)</b>
while i &lt; len(fruits) : <i class="conum" data-value="2"></i><b>(2)</b>
    print(i, fruits[i]) <i class="conum" data-value="3"></i><b>(3)</b>
    i += 1 <i class="conum" data-value="4"></i><b>(4)</b>

print(i) <i class="conum" data-value="5"></i><b>(5)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Les indices commencent à zéro</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Tant que <code>i</code> est inférieur au nombre d&#8217;éléments</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Affiche l&#8217;index et l&#8217;élément situé à cet index</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Incrémente <code>i</code></td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Affiche la valeur de <code>i</code> qui est <code>len(fruits)</code> (condition d&#8217;arrêt de l&#8217;itération)</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Qui donnera :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">0 tomates
1 bananes
2 kiwis
3</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_modèle_non_idiomatique">Modèle non idiomatique</h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-python hljs" data-lang="python">fruits = ['tomates', 'bananes', 'kiwis']

for index in range(len(fruits)):
    print(index, fruits[index])</code></pre>
</div>
</div>
<div class="paragraph">
<p>Bien qu&#8217;opérationnel, ce modèle appelle <code>range</code>, qui crée inutilement une séquence (immuable) de nombres en guise d&#8217;indices.</p>
</div>
<div class="paragraph">
<p>Cette remarque se vaut dans la mesure où l&#8217;on souhaite itérer sur la <strong>totalité</strong> des éléments de la liste.</p>
</div>
<div class="paragraph">
<p>Approfondir le sujet sur stackoverflow : <a href="https://stackoverflow.com/questions/522563/accessing-the-index-in-for-loops" class="bare">https://stackoverflow.com/questions/522563/accessing-the-index-in-for-loops</a></p>
</div>
</div>
<div class="sect4">
<h5 id="_avec_un_itérateur_iterator">Avec un itérateur (<em>iterator</em>)</h5>
<div class="paragraph">
<p>En fait, toutes les collections sont itérables. Python dispose de 2 fonctions <code>iter</code> et <code>next</code> qui permettent de boucler sur les éléments d&#8217;une collection (mais pas seulement)</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-python hljs" data-lang="python">iterateur = iter(fruits)
print(next(iterateur))
print(next(iterateur))
print(next(iterateur))</code></pre>
</div>
</div>
<div class="paragraph">
<p>Qui donnera :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">tomates
bananes
kiwis</code></pre>
</div>
</div>
<div class="paragraph">
<p>La fonction <strong>next()</strong> donne l&#8217;élément suivant (le premier appel à <code>next</code> donne le premier élément). Un appel à next() alors que le dernier élément a déjà été atteint déclenchera une exception de type <code>StopIteration</code>.</p>
</div>
<div class="paragraph">
<p>Ainsi, peut-on reproduire ce que fait en réalité la structure de boucle <code>for</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-python hljs" data-lang="python">iterateur = iter(fruits)
while(True) : <i class="conum" data-value="1"></i><b>(1)</b>
  try:
    fruit = next(iterateur)
    print(fruit)
  except StopIteration :
    break <i class="conum" data-value="2"></i><b>(2)</b>

# equivalent à : for fruit in fruits : print(fruit) <i class="conum" data-value="3"></i><b>(3)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Oh, boucle infinie !</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Ouf, fort heureusement l&#8217;instruction <code>break</code> provoquera l&#8217;arrêt de la boucle lorsque que l&#8217;exception <code>StopIteration</code> sera déclenchée.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Syntaxe à préférer !</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_exercice_43">EXERCICE 43</h4>
<div class="paragraph">
<p>L&#8217;objectif est de réécrire la fonction <code>note</code> (exercice 42) afin de lui passer en paramètre, non pas 4 valeurs, mais une collection de valeurs numériques (c&#8217;est plus souple).</p>
</div>
<div class="paragraph">
<p>Voici une nouvelle version de l&#8217;interface de la fonction <code>note</code> :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-python hljs" data-lang="python">def note(scores : tuple) -&gt; int <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Le paramètre est typé <code>tuple</code> plutôt que <code>list</code> car la fonction n&#8217;a pas vocation à modifier les éléments de la collection reçue en argument (voir <a href="#_choisir_la_bonne_structure_de_données">Choisir la bonne structure de données</a>)</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="literalblock">
<div class="content">
<pre>Une autre approche consiste à placer une étoile (`*`) en *préfixe du paramètre* (qui dénote un tuple)  -- une double étoile (`**`) dénote un dictionnaire.</pre>
</div>
</div>
<div class="paragraph">
<p><code>def note(*scores) &#8594; int</code></p>
</div>
<div class="paragraph">
<p>Dans ce cas, il faut <strong>omettre les parenthèses</strong> englobant les <strong>arguments</strong>. Exemple:</p>
</div>
<div class="paragraph">
<p><code>note(100, 100, 100, 1000, 100) # 325</code></p>
</div>
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<div class="title"><strong>Travail à faire</strong></div>
<ol class="arabic">
<li>
<p>Implémenter cette nouvelle fonction</p>
</li>
<li>
<p>Proposer une nouvelle version de <code>test_note()</code> de l&#8217;exercice 42 afin de tester la nouvelle fonction</p>
</li>
<li>
<p>Étendre les scénarios inclus dans <code>test_note()</code> qui passe à <code>note</code> un tuple de plus ou moins 4 éléments. Exemple.</p>
<div class="literalblock">
<div class="content">
<pre>note((100, 100, 100, 1000, 100)) # 325 (5 éléments)
note((100, 100)) # 100 (2 éléments)</pre>
</div>
</div>
<div class="paragraph">
<p>Proposer au moins 4 autres scénarios. Revenir sur votre implémentation de la nouvelle fonction <code>note</code> si nécessaire.</p>
</div>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>Faire en sorte que la fonction ne puisse pas buguer lorsqu&#8217;on lui passe une liste de valeurs avec un nombre incorrect d&#8217;éléments (à identifier). (2 cas)</p>
<div class="paragraph">
<p>Indice : Utiliser <code>assert</code> (ref cours sur le debugger), et mettre à jour la <code>docstring</code> de la fonction <code>note</code>.</p>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_exercice_44">EXERCICE 44</h4>
<div class="paragraph">
<p>Voici une version d&#8217;une fonction qui prend 2 listes et retourne une liste des éléments communs.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-python hljs" data-lang="python">def recherche_elements_communs(list1 : list, list2 : list) -&gt; list :
    common_elements = []
    for item1 in list1:
        for item2 in list2:
            if item1 == item2:
                common_elements.append(item1) # ajoute cet élément
    return common_elements</code></pre>
</div>
</div>
<div class="paragraph">
<p>Exemple</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-python hljs" data-lang="python">recherche_elements_communs(['a', 'b'], ['x', 'b', 'y', 'z']) # retourne ['b']</code></pre>
</div>
</div>
<div class="olist arabic">
<div class="title"><strong>Travail à faire</strong></div>
<ol class="arabic">
<li>
<p>Déterminer le nombre de parcours de boucles de l&#8217;exemple ci-dessus. Utiliser le <strong>débogueur</strong> pour une exécution <strong>pas à pas</strong> de la fonction à fin de vérification. Inspecter les variables <code>item1</code> et <code>item2</code> à chaque itération de la boucle.</p>
</li>
<li>
<p>Donner une formule générale qui donne le nombre d&#8217;itérations, quelque soit le nombre d&#8217;éléments des arguments</p>
</li>
<li>
<p>Définir une fonction nommée <code>test_recherche_elements_communs</code> qui teste plusieurs scénarios (inspirez-vous de l&#8217;exemple donnée et de <code>test_note()</code>)</p>
</li>
<li>
<p>Proposez une amélioration de l&#8217;implémentation de la fonction <code>test_recherche_elements_communs()</code>. Il y a plusieurs possibilités, l&#8217;idée est de faire confiance aux structures existantes du langage. Attention, l&#8217;interface de la fonction ne doit pas être modifiée !</p>
<div class="paragraph">
<p><code>def recherche_elements_communs(list1 : list, list2 : list) &#8594; list</code></p>
</div>
</li>
<li>
<p>Tester la nouvelle version de votre fonction</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_exercice_45">EXERCICE 45</h4>
<div class="paragraph">
<p>Concevoir et tester une fonction qui prend en argument une liste d&#8217;objets et qui retourne une liste des éléments en doublons. Voici son <strong>interface</strong> :</p>
</div>
<div class="paragraph">
<p><code>def doublons(liste : list) &#8594; list</code></p>
</div>
<div class="listingblock">
<div class="title">Exemple d&#8217;utilisation :</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-python hljs" data-lang="python">doublons(['1','X','2','2','3','4','3','A','a','X']) # rend ['X', '2', '3']</code></pre>
</div>
</div>
<div class="olist arabic">
<div class="title"><strong>Travail à faire</strong></div>
<ol class="arabic">
<li>
<p>Implémenter la fonction <code>doublons</code></p>
</li>
<li>
<p>Définir une fonction qui teste plusieurs scénarios d&#8217;utilisation de cette fonction.</p>
</li>
<li>
<p>Définir une deuxième implémentation de la fonction <code>doublons</code></p>
</li>
<li>
<p>Concevoir une nouvelle fonction qui prend en argument une liste et qui détermine si cette liste détient des doublons ou non.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Définir l&#8217;interface de cette fonction</p>
</li>
<li>
<p>Implémenter cette fonction</p>
</li>
<li>
<p>Définir une fonction de test pour cette fonction</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_contrôler_vos_connaissances_et_contribuer_aux_qcms_4">Contrôler vos connaissances et contribuer aux QCMs</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Contrôler vos connaissances sur <a href="https://quizbe.org/question?id-selected-topic=6">quizbe.org</a>. (choisir <code>PYTHON-1</code>, scope <code>p-2-collection</code>)</p>
</li>
<li>
<p>Proposer, pour le thème <code>PYTHON-LDV</code>, scope <code>p-2-collection</code>, 2 questions QCM originales et personnelles, sur des thèmes couverts pas cette séquence d&#8217;exercices.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_glossaire">Glossaire</h2>
<div class="sectionbody">
<div class="dlist glossary">
<dl>
<dt>variable</dt>
<dd>
<p>symbole dans le code, dont le <strong>nom témoigne de son rôle</strong>, qui désigne selon son utilisation soit un <strong>contenant</strong> (une adresse mémoire) soit une <strong>valeur de contenu</strong> (interprétée selon son <strong>type</strong>)</p>
</dd>
<dt>type</dt>
<dd>
<p> Pour l&#8217;interpréteur, désigne comment utiliser et stocker la valeur d&#8217;une variable.
<br>
Pour l&#8217;utilisateur, limite l&#8217;exploitation de la variable aux opérations définies sur ce type.</p>
<div class="listingblock">
<div class="title">Listing 20. La fonction 'type' retourne le type de son argument</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-python hljs" data-lang="python">&gt;&gt;&gt; type(42)
&lt;class 'int'&gt;
&gt;&gt;&gt; type(42) is int
True
&gt;&gt;&gt; type(42) is str
False
&gt;&gt;&gt; type("42") is str
True
&gt;&gt;&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Voir la discussion ici : <a href="https://stackoverflow.com/questions/4843173/how-to-check-if-type-of-a-variable-is-string" class="bare">https://stackoverflow.com/questions/4843173/how-to-check-if-type-of-a-variable-is-string</a></p>
</div>
</dd>
<dt>valeur d&#8217;une variable</dt>
<dd>
<p>interprétation du contenu de (l&#8217;espace occupé par) la variable, selon son type.</p>
<div class="paragraph">
<p>Exemple : <code>x = "42"</code> ou <code>y = 42</code>;</p>
</div>
<div class="paragraph">
<p>La valeur de <code><em>x</em></code> est <code>"42"</code> est son type est <strong>string</strong></p>
</div>
<div class="paragraph">
<p>La valeur de <code><em>y</em></code> est <code>42</code> est sont type est <strong>int</strong></p>
</div>
<div class="paragraph">
<p>Ces deux variables pointent vers des espaces mémoire peu comparables en terme de structure binaire et de taille.</p>
</div>
</dd>
<dt>Constante littérale</dt>
<dd>
<p>Valeur inscrite dans le code source</p>
<div class="paragraph">
<p>Ces valeurs sont typées. Exemple : <code>'ANNEE' "ANNEE" """ANNEE"""</code> sont des constantes littérales de type <strong>string</strong></p>
</div>
</dd>
<dt>Convention de nommage</dt>
<dd>
<p>Les conventions usuelles</p>
</dd>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 4. Les conventions courantes</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><em>nom</em></th>
<th class="tableblock halign-left valign-top"><em>usage</em></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>UpperCamelCase</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">nom de classe</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>lowerCamelCase</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">propriété, méthode, variable, paramètre&#8230;&#8203; en Java, JS, PHP&#8230;&#8203;</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>lower_snake_case</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">nom de variable et fonction en python</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>SCREAMING_SNAKE_CASE</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">constante</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>kebab-case</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ressource web, identifiant, attribut html</p></td>
</tr>
</tbody>
</table>
<div class="dlist">
<dl>
<dt class="hdlist1">return</dt>
<dd>
<p>Directive signifiant la fin de l&#8217;exécution du corps de la fonction où elle est présente. Peut être suivie d&#8217;une valeur qui sera retournée à l&#8217;appelant.</p>
</dd>
<dt class="hdlist1">Appelant</dt>
<dd>
<p>Instruction (un bout de code) qui appelle une fonction en se fiant à son entête.
Exemple : <code>x = len(y)</code> est une instruction <strong>appelant</strong> l&#8217;exécution de la fonction <code>len</code>.</p>
</dd>
<dt class="hdlist1">Appelé</dt>
<dd>
<p>  Un sous-programme identifié par un nom (nom d&#8217;une fonction par exemple)
Exemple : <code>x = len(y)</code>, <code>len</code> est la fonction <strong>appelée</strong>. Dans cet exemple, la valeur de retour de la fonction appelée est stockée, par l&#8217;appelant, dans une variable nommée <code>x</code>.</p>
</dd>
<dt class="hdlist1">Entête d&#8217;une fonction</dt>
<dd>
<p>Nommée également <strong>interface</strong>, définit le nom de la fonction, ses paramètres éventuels et son type de retour (ou <code>None</code>).
 Exemple (première ligne) :</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-python hljs" data-lang="python">def bidon() -&gt; None :
  pass</code></pre>
</div>
</div>
</dd>
<dt class="hdlist1">Corps d&#8217;une fonction</dt>
<dd>
<p>Nommée également <strong>implementation</strong>, définit le travail de la fonction, et sa valeur de retour, si attendue. La séquence d&#8217;instructions est placée dans le bloc indenté qui suit l&#8217;entête de la fonction.</p>
</dd>
<dt class="hdlist1">Algorithme déterministe</dt>
<dd>
<p>(sensibilisation) Une fonction, pour une même donnée d&#8217;entrée, doit invariablement produire la même sortie.</p>
</dd>
<dt class="hdlist1">Muable</dt>
<dd>
<p>Une structure de données <strong>muable</strong> signifie que les variables de ce type peuvent sont susceptibles d&#8217;avoir leur valeur évoluée dans le temps. Exemple <code>list</code>, contre exemple <code>str</code> (ne peut pas être modifiée après création)</p>
</dd>
<dt class="hdlist1">Immuable</dt>
<dd>
<p>Une structure de données <strong>immuable</strong> signifie que les variables de ce type ont une valeur qui ne peut être modifiée après leur création. Exemple <code>str</code> ou <code>tuple</code>, ne permettent pas l&#8217;ajout d&#8217;éléments, et leurs éléments ne peuvent être ni modifiés ni supprimés. Contre exemple <code>list</code> (accepte l&#8217;ajout, et les éléments d&#8217;une instance de <code>list</code> peuvent être modifier, supprimer)</p>
</dd>
</dl>
</div>
</div>
</div>
</div>
<div id="footnotes">
<hr>
<div class="footnote" id="_footnotedef_1">
<a href="#_footnoteref_1">1</a>. peut être aussi <em>postmortem</em>
</div>
<div class="footnote" id="_footnotedef_2">
<a href="#_footnoteref_2">2</a>. Le développeur a la possibilité d&#8217;en définir d&#8217;autres, via la <strong>c</strong>lasse de <strong>b</strong>ase <strong>a</strong>bstraite <code>collections.abc</code> <a href="https://docs.python.org/fr/3/library/collections.abc.html" class="bare">https://docs.python.org/fr/3/library/collections.abc.html</a>
</div>
</div>
<div id="footer">
<div id="footer-text">
Version 0.1a<br>
Last updated 2023-08-28 10:02:22 +0200
</div>
</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.3/highlight.min.js"></script>
<script>
if (!hljs.initHighlighting.called) {
  hljs.initHighlighting.called = true
  ;[].slice.call(document.querySelectorAll('pre.highlight > code')).forEach(function (el) { hljs.highlightBlock(el) })
}
</script>
</body>
</html>